---
title: 概覽-高級搜尋
description: 了解 Microsoft 365 中的進階搜捕查詢，以及如何使用該功能主動找出您的網路中的威脅和弱點
keywords: 高級搜尋，威脅搜尋，網路威脅搜尋，microsoft 威脅防護，microsoft 365，mtp，m365，搜尋，查詢，遙測，自訂偵測，schema，kusto，microsoft 365，Microsoft 威脅防護
search.product: eADQiWindows 10XVcnh
search.appverid: met150
ms.prod: microsoft-365-enterprise
ms.mktglfcycl: deploy
ms.sitesec: library
ms.pagetype: security
f1.keywords:
- NOCSH
ms.author: lomayor
author: lomayor
ms.localizationpriority: medium
manager: dansimp
audience: ITPro
ms.collection: M365-security-compliance
ms.topic: article
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: 47035b5c988dba551948334c0c93d08b779c0d38
ms.sourcegitcommit: dffb9b72acd2e0bd286ff7e79c251e7ec6e8ecae
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/17/2020
ms.locfileid: "47950733"
---
# <a name="proactively-hunt-for-threats-with-advanced-hunting-in-microsoft-threat-protection"></a><span data-ttu-id="7eae7-104">使用 Microsoft 威脅防護中的進階搜捕功能主動尋找威脅</span><span class="sxs-lookup"><span data-stu-id="7eae7-104">Proactively hunt for threats with advanced hunting in Microsoft Threat Protection</span></span>

<span data-ttu-id="7eae7-105">**適用於：**</span><span class="sxs-lookup"><span data-stu-id="7eae7-105">**Applies to:**</span></span>
- <span data-ttu-id="7eae7-106">Microsoft 威脅防護</span><span class="sxs-lookup"><span data-stu-id="7eae7-106">Microsoft Threat Protection</span></span>

[!INCLUDE [Prerelease information](../includes/prerelease.md)]

<span data-ttu-id="7eae7-107">進階搜捕是一種查詢式威脅搜捕工具，可讓您探索最多 30 天的原始資料。</span><span class="sxs-lookup"><span data-stu-id="7eae7-107">Advanced hunting is a query-based threat-hunting tool that lets you explore up to 30 days of raw data.</span></span> <span data-ttu-id="7eae7-108">您可以主動檢查您網路中的事件，以找出威脅指示器和實體。</span><span class="sxs-lookup"><span data-stu-id="7eae7-108">You can proactively inspect events in your network to locate threat indicators and entities.</span></span> <span data-ttu-id="7eae7-109">對資料的靈活存取可對已知和潛在的威脅進行無限制的搜尋。</span><span class="sxs-lookup"><span data-stu-id="7eae7-109">The flexible access to data enables unconstrained hunting for both known and potential threats.</span></span>
<p></p>

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE4Bp7O]

<span data-ttu-id="7eae7-110">您可以使用相同的威脅搜尋查詢來建立自訂的偵測規則。</span><span class="sxs-lookup"><span data-stu-id="7eae7-110">You can use the same threat-hunting queries to build custom detection rules.</span></span> <span data-ttu-id="7eae7-111">這些規則會自動執行，以檢查是否有可疑的破壞活動、錯誤設定的機器及其他發現的回應。</span><span class="sxs-lookup"><span data-stu-id="7eae7-111">These rules run automatically to check for and then respond to suspected breach activity, misconfigured machines, and other findings.</span></span>

<span data-ttu-id="7eae7-112">這項功能類似于 [Microsoft DEFENDER ATP 中的高級搜尋](https://docs.microsoft.com/windows/security/threat-protection/microsoft-defender-atp/advanced-hunting-overview)。</span><span class="sxs-lookup"><span data-stu-id="7eae7-112">This capability is similar to [advanced hunting in Microsoft Defender ATP](https://docs.microsoft.com/windows/security/threat-protection/microsoft-defender-atp/advanced-hunting-overview).</span></span> <span data-ttu-id="7eae7-113">可在 Microsoft 365 的 [安全性中心] 中取得。此功能支援查詢，可從 Microsoft Defender ATP、Office 365 ATP、Microsoft Cloud App Security 和 Azure ATP 檢查更廣泛的資料集。</span><span class="sxs-lookup"><span data-stu-id="7eae7-113">Available in Microsoft 365 security center, this capability supports queries that check a broader data set from Microsoft Defender ATP, Office 365 ATP, Microsoft Cloud App Security, and Azure ATP.</span></span> <span data-ttu-id="7eae7-114">若要使用進階搜捕，請[開啟 Microsoft 威脅防護](mtp-enable.md)。</span><span class="sxs-lookup"><span data-stu-id="7eae7-114">To use advanced hunting, [turn on Microsoft Threat Protection](mtp-enable.md).</span></span>

## <a name="get-started-with-advanced-hunting"></a><span data-ttu-id="7eae7-115">開始使用進階搜捕</span><span class="sxs-lookup"><span data-stu-id="7eae7-115">Get started with advanced hunting</span></span>

<span data-ttu-id="7eae7-116">建議您透過數個步驟來利用進階搜捕快速啟動並執行。</span><span class="sxs-lookup"><span data-stu-id="7eae7-116">We recommend going through several steps to quickly get up and running with advanced hunting.</span></span>

| <span data-ttu-id="7eae7-117">學習目標</span><span class="sxs-lookup"><span data-stu-id="7eae7-117">Learning goal</span></span> | <span data-ttu-id="7eae7-118">描述</span><span class="sxs-lookup"><span data-stu-id="7eae7-118">Description</span></span> | <span data-ttu-id="7eae7-119">資源</span><span class="sxs-lookup"><span data-stu-id="7eae7-119">Resource</span></span> |
|--|--|--|
| <span data-ttu-id="7eae7-120">**瞭解語言**</span><span class="sxs-lookup"><span data-stu-id="7eae7-120">**Learn the language**</span></span> | <span data-ttu-id="7eae7-121">「高級搜尋」是以 [Kusto 查詢語言](https://docs.microsoft.com/azure/kusto/query/)為基礎，支援相同的語法及運算子。</span><span class="sxs-lookup"><span data-stu-id="7eae7-121">Advanced hunting is based on [Kusto query language](https://docs.microsoft.com/azure/kusto/query/), supporting the same syntax and operators.</span></span> <span data-ttu-id="7eae7-122">執行您的第一個查詢來開始學習查詢語言。</span><span class="sxs-lookup"><span data-stu-id="7eae7-122">Start learning the query language by running your first query.</span></span> | [<span data-ttu-id="7eae7-123">查詢語言概觀</span><span class="sxs-lookup"><span data-stu-id="7eae7-123">Query language overview</span></span>](advanced-hunting-query-language.md) |
| <span data-ttu-id="7eae7-124">**瞭解如何使用查詢結果**</span><span class="sxs-lookup"><span data-stu-id="7eae7-124">**Learn how to use the query results**</span></span> | <span data-ttu-id="7eae7-125">深入瞭解圖表和您可以查看或匯出結果的各種方式。</span><span class="sxs-lookup"><span data-stu-id="7eae7-125">Learn about charts and various ways you can view or export your results.</span></span> <span data-ttu-id="7eae7-126">探索您如何快速調整查詢、深入查看以取得更豐富的資訊，以及採取回應動作。</span><span class="sxs-lookup"><span data-stu-id="7eae7-126">Explore how you can quickly tweak queries, drill down to get richer information, and take response actions.</span></span> | <span data-ttu-id="7eae7-127">- [使用查詢結果](advanced-hunting-query-results.md)</span><span class="sxs-lookup"><span data-stu-id="7eae7-127">- [Work with query results](advanced-hunting-query-results.md)</span></span><br><span data-ttu-id="7eae7-128">- [對查詢結果採取動作](advanced-hunting-take-action.md)</span><span class="sxs-lookup"><span data-stu-id="7eae7-128">- [Take action on query results](advanced-hunting-take-action.md)</span></span> |
| <span data-ttu-id="7eae7-129">**了解結構描述**</span><span class="sxs-lookup"><span data-stu-id="7eae7-129">**Understand the schema**</span></span> | <span data-ttu-id="7eae7-130">深入了解結構描述中的資料表和資料行。</span><span class="sxs-lookup"><span data-stu-id="7eae7-130">Get a good, high-level understanding of the tables in the schema and their columns.</span></span> <span data-ttu-id="7eae7-131">瞭解在建立查詢時要尋找資料的位置。</span><span class="sxs-lookup"><span data-stu-id="7eae7-131">Learn where to look for data when constructing your queries.</span></span> | [<span data-ttu-id="7eae7-132">結構描述參考</span><span class="sxs-lookup"><span data-stu-id="7eae7-132">Schema reference</span></span>](advanced-hunting-schema-tables.md) |
| <span data-ttu-id="7eae7-133">**取得專家秘訣和範例**</span><span class="sxs-lookup"><span data-stu-id="7eae7-133">**Get expert tips and examples**</span></span> | <span data-ttu-id="7eae7-134">透過 Microsoft 專家的指南訓練。</span><span class="sxs-lookup"><span data-stu-id="7eae7-134">Train for free with guides from Microsoft experts.</span></span> <span data-ttu-id="7eae7-135">探索涵蓋不同威脅搜捕案例的預先定義查詢集合。</span><span class="sxs-lookup"><span data-stu-id="7eae7-135">Explore collections of predefined queries covering different threat hunting scenarios.</span></span> | <span data-ttu-id="7eae7-136">- [取得專家訓練](advanced-hunting-expert-training.md)</span><span class="sxs-lookup"><span data-stu-id="7eae7-136">- [Get expert training](advanced-hunting-expert-training.md)</span></span><br><span data-ttu-id="7eae7-137">- [使用共用查詢](advanced-hunting-shared-queries.md)</span><span class="sxs-lookup"><span data-stu-id="7eae7-137">- [Use shared queries](advanced-hunting-shared-queries.md)</span></span><br><span data-ttu-id="7eae7-138">- [開始搜尋](advanced-hunting-go-hunt.md)</span><span class="sxs-lookup"><span data-stu-id="7eae7-138">- [Go hunt](advanced-hunting-go-hunt.md)</span></span><br><span data-ttu-id="7eae7-139">- [尋找跨裝置、電子郵件、應用程式和身分識別的威脅](advanced-hunting-query-emails-devices.md)</span><span class="sxs-lookup"><span data-stu-id="7eae7-139">- [Hunt for threats across devices, emails, apps, and identities](advanced-hunting-query-emails-devices.md)</span></span> |
| <span data-ttu-id="7eae7-140">**優化查詢並處理錯誤**</span><span class="sxs-lookup"><span data-stu-id="7eae7-140">**Optimize queries and handle errors**</span></span> | <span data-ttu-id="7eae7-141">瞭解如何建立高效且無錯誤的查詢。</span><span class="sxs-lookup"><span data-stu-id="7eae7-141">Understand how to create efficient and error-free queries.</span></span> | <span data-ttu-id="7eae7-142">- [查詢最佳作法](advanced-hunting-best-practices.md)</span><span class="sxs-lookup"><span data-stu-id="7eae7-142">- [Query best practices](advanced-hunting-best-practices.md)</span></span><br><span data-ttu-id="7eae7-143">- [處理錯誤](advanced-hunting-errors.md)</span><span class="sxs-lookup"><span data-stu-id="7eae7-143">- [Handle errors](advanced-hunting-errors.md)</span></span> |
| <span data-ttu-id="7eae7-144">**建立自訂偵測規則**</span><span class="sxs-lookup"><span data-stu-id="7eae7-144">**Create custom detection rules**</span></span> | <span data-ttu-id="7eae7-145">瞭解您可以如何使用高級搜尋查詢來觸發提醒並自動採取回應動作。</span><span class="sxs-lookup"><span data-stu-id="7eae7-145">Understand how you can use advanced hunting queries to trigger alerts and take response actions automatically.</span></span> | <span data-ttu-id="7eae7-146">- [自訂偵測簡介](custom-detections-overview.md)</span><span class="sxs-lookup"><span data-stu-id="7eae7-146">- [Custom detections overview](custom-detections-overview.md)</span></span><br><span data-ttu-id="7eae7-147">- [自訂偵測規則](custom-detection-rules.md)</span><span class="sxs-lookup"><span data-stu-id="7eae7-147">- [Custom detection rules](custom-detection-rules.md)</span></span> |

## <a name="get-access"></a><span data-ttu-id="7eae7-148">取得存取權</span><span class="sxs-lookup"><span data-stu-id="7eae7-148">Get access</span></span>
<span data-ttu-id="7eae7-149">若要使用高級搜尋或其他 [Microsoft 威脅防護](microsoft-threat-protection.md) 功能，您在 Azure Active Directory 中需要有適當的角色。</span><span class="sxs-lookup"><span data-stu-id="7eae7-149">To use advanced hunting or other [Microsoft Threat Protection](microsoft-threat-protection.md) capabilities, you need an appropriate role in Azure Active Directory.</span></span> <span data-ttu-id="7eae7-150">此外，您可以使用 Microsoft Defender ATP 中的角色型存取控制 (RBAC) 設定所決定的端點資料存取。</span><span class="sxs-lookup"><span data-stu-id="7eae7-150">Also, your access to endpoint data is determined by role-based access control (RBAC) settings in Microsoft Defender ATP.</span></span> [<span data-ttu-id="7eae7-151">閱讀管理 Microsoft 威脅防護存取的相關資訊</span><span class="sxs-lookup"><span data-stu-id="7eae7-151">Read about managing access to Microsoft Threat Protection</span></span>](mtp-permissions.md)

## <a name="data-freshness-and-update-frequency"></a><span data-ttu-id="7eae7-152">資料新鮮度和更新頻率</span><span class="sxs-lookup"><span data-stu-id="7eae7-152">Data freshness and update frequency</span></span>
<span data-ttu-id="7eae7-153">「高級搜尋」資料可以分類成兩種不同的類型，每個不同的合併。</span><span class="sxs-lookup"><span data-stu-id="7eae7-153">Advanced hunting data can be categorized into two distinct types, each consolidated differently.</span></span>

- <span data-ttu-id="7eae7-154">**事件或活動資料**--填入有關警示、安全性事件、系統事件及例行評估的表格。</span><span class="sxs-lookup"><span data-stu-id="7eae7-154">**Event or activity data**—populates tables about alerts, security events, system events, and routine assessments.</span></span> <span data-ttu-id="7eae7-155">[！注意] 高級搜尋幾乎會在收集成功的感應器成功傳送至對應的雲端服務之後立即接收這類資料。</span><span class="sxs-lookup"><span data-stu-id="7eae7-155">Advanced hunting receives this data almost immediately after the sensors that collect them successfully transmit them to the corresponding cloud services.</span></span> <span data-ttu-id="7eae7-156">例如，您可以在工作站或網域控制站上的狀況良好感應器上查詢事件資料，使其在 Microsoft Defender ATP 和 Azure ATP 上可用之後幾乎可以立即查詢。</span><span class="sxs-lookup"><span data-stu-id="7eae7-156">For example, you can query event data from healthy sensors on workstations or domain controllers almost immediately after they are available on Microsoft Defender ATP and Azure ATP.</span></span>
- <span data-ttu-id="7eae7-157">**實體資料**—使用使用者和裝置的整合式資訊來填入資料表。</span><span class="sxs-lookup"><span data-stu-id="7eae7-157">**Entity data**—populates tables with consolidated information about users and devices.</span></span> <span data-ttu-id="7eae7-158">此資料來自相對靜態資料來源和動態來源，例如 Active Directory 專案和事件記錄。</span><span class="sxs-lookup"><span data-stu-id="7eae7-158">This data comes from both relatively static data sources and dynamic sources, such as Active Directory entries and event logs.</span></span> <span data-ttu-id="7eae7-159">若要提供全新的資料，每隔15分鐘更新一次所有新資訊的資料表，新增可能不會填滿的資料列。</span><span class="sxs-lookup"><span data-stu-id="7eae7-159">To provide fresh data, tables are updated with any new information every 15 minutes, adding rows that might not be fully populated.</span></span> <span data-ttu-id="7eae7-160">每24小時都會合並資料，以插入記錄，其中包含每個實體的最新、最全面的資料集。</span><span class="sxs-lookup"><span data-stu-id="7eae7-160">Every 24 hours, data is consolidated to insert a record that contains the latest, most comprehensive data set about each entity.</span></span>

## <a name="time-zone"></a><span data-ttu-id="7eae7-161">時區</span><span class="sxs-lookup"><span data-stu-id="7eae7-161">Time zone</span></span>
<span data-ttu-id="7eae7-162">「高級搜尋」中的時間資訊是在 UTC 時區。</span><span class="sxs-lookup"><span data-stu-id="7eae7-162">Time information in advanced hunting is in the UTC time zone.</span></span>

## <a name="related-topics"></a><span data-ttu-id="7eae7-163">相關主題</span><span class="sxs-lookup"><span data-stu-id="7eae7-163">Related topics</span></span>
- [<span data-ttu-id="7eae7-164">了解查詢語言</span><span class="sxs-lookup"><span data-stu-id="7eae7-164">Learn the query language</span></span>](advanced-hunting-query-language.md)
- [<span data-ttu-id="7eae7-165">取得專家訓練</span><span class="sxs-lookup"><span data-stu-id="7eae7-165">Get expert training</span></span>](advanced-hunting-expert-training.md)
- [<span data-ttu-id="7eae7-166">使用共用查詢</span><span class="sxs-lookup"><span data-stu-id="7eae7-166">Use shared queries</span></span>](advanced-hunting-shared-queries.md)
- [<span data-ttu-id="7eae7-167">了解結構描述</span><span class="sxs-lookup"><span data-stu-id="7eae7-167">Understand the schema</span></span>](advanced-hunting-schema-tables.md)
- [<span data-ttu-id="7eae7-168">套用查詢最佳做法</span><span class="sxs-lookup"><span data-stu-id="7eae7-168">Apply query best practices</span></span>](advanced-hunting-best-practices.md)
- [<span data-ttu-id="7eae7-169">自訂偵測概觀</span><span class="sxs-lookup"><span data-stu-id="7eae7-169">Custom detections overview</span></span>](custom-detections-overview.md)

