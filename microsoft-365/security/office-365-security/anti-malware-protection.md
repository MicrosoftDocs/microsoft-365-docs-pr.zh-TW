---
title: 反惡意程式碼保護
f1.keywords:
- NOCSH
ms.author: chrisda
author: chrisda
manager: dansimp
ms.date: ''
audience: ITPro
ms.topic: overview
localization_priority: Normal
search.appverid:
- MET150
ms.assetid: 0e39a0ce-ab8b-4820-8b5e-93fbe1cc11e8
ms.collection:
- M365-security-compliance
- m365initiative-defender-office365
description: 系統管理員可以深入瞭解反惡意程式碼保護和反惡意程式碼原則，以在 Exchange Online Protection (EOP) 中防禦病毒、間諜軟體和勒索軟體。
ms.custom: seo-marvel-apr2020
ms.technology: mdo
ms.prod: m365-security
ms.openlocfilehash: e1334f9fd7b840847830bfc4100b58b6f3a0792e
ms.sourcegitcommit: 967f64dfa1a05f31179c8316b96bfb7758a5d990
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 05/12/2021
ms.locfileid: "52333707"
---
# <a name="anti-malware-protection-in-eop"></a>EOP 中的反惡意程式碼保護

[!INCLUDE [Microsoft 365 Defender rebranding](../includes/microsoft-defender-for-office.md)]

**適用於**
- [Exchange Online Protection](exchange-online-protection-overview.md)
- [適用於 Office 365 的 Microsoft Defender 方案 1 和方案 2](defender-for-office-365.md)
- [Microsoft 365 Defender](../defender/microsoft-365-defender.md)

在有信箱在 Exchange Online 或獨立 Exchange Online Protection 中的 Microsoft 365 組織中 (EOP) 不含 Exchange Online 信箱的組織，電子郵件會自動受到 EOP 的惡意程式碼保護。 惡意程式碼的主要類別包括：

- 感染其他程式和資料，並透過您的電腦或網路傳播以尋找要感染之程式的 **病毒**。

- 會收集您個人資訊的 **間諜軟體**，例如登入資訊和個人資料，並將其傳送回其作者。

- 用來加密您的資料和要求支付以加以解密的 **勒索軟體**。 反惡意程式碼軟體不會協助您解密加密的檔案，但可以偵測和移除與勒索軟體相關聯的惡意程式碼負載。

EOP 提供多層次的惡意程式碼保護，其設計目的是用來捕捉進出您組織的所有已知惡意程式碼。 下列選項可協助提供反惡意程式碼保護：

- **針對惡意程式碼的分層防護**：多個反惡意程式碼掃描引擎可協助防護已知和未知威脅。 這些引擎包含強大的啟發式偵測，可在惡意程式碼爆發的早期階段提供保護。 這種多重引擎方式已經顯示，比只使用一個反惡意程式碼引擎提供更大的保護。

- **即時威脅回應**：在某些情況下，反惡意程式碼小組可能會有關于病毒或其他形式惡意程式碼的足夠資訊，可以寫入偵測威脅的複雜原則規則，甚至是在服務所使用的任何掃描引擎都可以使用定義之前。 這些規則會每隔2小時發佈到全球網路，為您的組織提供額外的防範攻擊層級。

- **快速的反惡意程式碼定義部署**：反惡意程式碼小組與開發反惡意程式碼引擎的合作夥伴保持密切的關係。 因此，服務可以在惡意程式碼定義和修補程式公開發行之前，先接收和整合惡意程式碼定義和修補程式。 我們與這些合作夥伴的連線通常可讓我們同時開發我們自己的賠償。 服務每小時會檢查所有反惡意程式碼引擎的更新定義。

在 EOP 中，會隔離在 *任何* 附件中包含惡意程式碼的郵件，而且只能由系統管理員從隔離區發行。如需詳細資訊，請參閱 [在 EOP 中以系統管理員身分管理隔離的郵件和](manage-quarantined-messages-and-files.md)檔案。

如需有關反惡意程式碼保護的詳細資訊，請參閱 [反惡意程式碼保護常見問題](anti-malware-protection-faq-eop.yml)。

若要設定反惡意程式碼原則，請參閱 [設定反惡意程式碼原則](configure-anti-malware-policies.md)。

若要將惡意程式碼提交給 Microsoft，請參閱 [將郵件和檔案報告給 microsoft](report-junk-email-messages-to-microsoft.md)。

## <a name="anti-malware-policies"></a>反惡意程式碼原則

反惡意程式碼原則控制惡意程式碼偵測的設定和通知選項。 反惡意程式碼原則中的重要設定包括：

- **收件者通知**：根據預設，不會告知郵件收件者因惡意程式碼而被隔離的郵件。 不過，您可以啟用收件者通知，格式為已移除 *所有* 附件，並由名為 **惡意軟體警示 Text.txt** 的單一檔案所取代，其中包含下列文字：

  > 在這封電子郵件中包含的一或多個附件中偵測到惡意程式碼。 <br> 動作：已移除所有附件。 <br> \<Original malware attachment name\> \<Malware detection result\>

  您可以使用您自己的自訂文字，將 **惡意軟體警示 Text.txt** 檔案中的預設文字取代。

- **常見附件類型篩選器**：您實際上不應該透過電子郵件傳送的某些類型的檔案 (例如，「可執行檔」) 。 為什麼要用來掃描這種惡意程式碼類型的檔，當您應該全部封鎖它們時？ 這是常見附件類型篩選器的所在位置。 預設會停用此功能，但當您啟用它時，您指定的檔案類型會被自動視為惡意程式碼。 您可以使用檔案類型的預設清單，或自訂清單。 預設檔案類型為： `.ace, .ani, .app, .docm, .exe, .jar, .reg, .scr, .vbe, .vbs` 。

  常見的附件類型篩選使用最佳的實際值輸入，以偵測檔案類型，不論副檔名為何。 如果指定的檔案類型不支援或不支援 true 輸入，則會使用「簡單副檔名比對」。

- **惡意程式碼零小時自動清除 (ZAP)**：惡意程式碼 ZAP 會在傳送至 Exchange Online 信箱 *之後* ，隔離發現包含惡意程式碼的郵件。 根據預設，惡意程式碼 ZAP 是開啟的，我們建議您將其保持開啟。

- **寄件者通知**：根據預設，郵件寄件者不會被告知其郵件因惡意程式碼而被隔離。 不過，您可以根據寄件者為內部或外部的寄件者，啟用寄件者的通知訊息。 預設通知訊息如下所示：

  > 寄件者：郵局管理員 postmaster@ _\<defaultdomain\>_ .com <br> 主旨：無法傳遞的郵件 <p> 郵件傳遞軟體會自動建立此郵件。 不會將您的電子郵件訊息傳遞給預定的收件者，因為偵測到惡意程式碼」。 已刪除所有附件。 <p> ---其他資訊---： <p> 主題： \<message subject\> <br> 發送： \<message sender\> <p> 接收時間： \<date/time\> <br> 郵件 ID: \<message id\> <br> 找到的偵測： <br> \<attachment name\> \<malware detection result\>

  您可以自訂內部及外部通知的 [**寄件者] 位址** **、主旨和****郵件文字**。

  您也可以指定其他收件者 (系統管理員) 以接收來自內部或外部寄件者的郵件中偵測到之惡意程式碼的通知。

- **收件者篩選器**：針對自訂的反惡意程式碼原則，您可以指定收件者條件和例外情況，以判斷原則的套用者。 您可以使用這些屬性做為條件和例外狀況：

  - **收件者是**
  - **收件者網域是**
  - **收件者是以下的成員**

  您只可以使用條件或例外狀況，但條件或例外狀況可以包含多個值。 相同條件或例外狀況的多個值使用 OR 邏輯 (例如，_\<recipient1\>_ 或 _\<recipient2\>_)。 不同的條件或例外狀況則使用 AND 邏輯 (例如，_\<recipient1\>_ 和 _\<member of group 1\>_)。

- **Priority**：如果您建立多個自訂的反惡意程式碼原則，您可以指定其套用的順序。 不論有幾個原則，都不會具有相同的優先順序，且在套用第一個原則之後，原則處理就會停止。

  如需更多有關優先的排序及如何評估和應用多項原則，請參照 [電子郵件保護的順序和優先順序](how-policies-and-protections-are-combined.md)。

### <a name="anti-malware-policies-in-the-security--compliance-center-vs-powershell"></a>安全性 & 規範中心與 PowerShell 中的反惡意程式碼原則

反惡意程式碼原則的基本元素如下：

- **惡意程式碼篩選原則**：指定收件者通知、寄件者和系統管理員通知、ZAP 及一般附件類型篩選設定。
- **惡意軟體篩選規則**：指定原則套用至) 惡意軟體篩選原則的優先順序和收件者篩選 (。

當您在安全性 & 合規性中心內管理反惡意程式碼原則時，這兩個元素之間的差異並不明顯：

- 當您建立反惡意程式碼原則時，實際上是使用相同的名稱，為這兩者建立惡意軟體篩選規則和相關的惡意程式碼篩選原則。

- 當您修改反惡意程式碼原則時，與名稱、優先順序、啟用或停用及收件者篩選器相關的設定會修改惡意程式碼篩選規則。 其他設定 (收件者通知、寄件者和系統管理員通知、ZAP 及一般附件類型篩選) 修改相關的惡意程式碼篩選原則。

- 當您移除反惡意程式碼原則時，惡意程式碼篩選規則和相關的惡意程式碼篩選原則也會被移除。

在 Exchange Online PowerShell 或獨立 EOP PowerShell 中，惡意程式碼篩選原則和惡意程式碼篩選規則之間的差異很明顯。 您可以使用 **\* -MalwareFilterPolicy** Cmdlet 來管理惡意程式碼篩選原則，也可以使用 **\* -enable-malwarefilterrule** Cmdlet 來管理惡意程式碼篩選規則。

- 在 PowerShell 中，您先建立惡意程式碼篩選原則，然後建立惡意軟體篩選規則，識別套用規則的原則。
- 在 PowerShell 中，您可以分別修改惡意程式碼篩選原則和惡意程式碼篩選規則中的設定。
- 當您從 PowerShell 中移除惡意程式碼篩選原則時，不會自動移除對應的惡意軟體篩選規則，反之亦然。

### <a name="default-anti-malware-policy"></a>預設反惡意程式碼原則

每個組織都有一個名為 Default 的內建反惡意程式碼原則，具有下列屬性：

- 原則會套用至組織中的所有收件者，即使沒有惡意程式碼篩選規則 (收件者篩選器) 與原則相關聯。

- 此原則的自訂優先順序值是 **最低的**，表示您無法進行任何修改（此原則ㄧ律到最後才會套用）。 您建立的任何自訂反惡意程式碼原則，都具有比命名為 [預設] 原則更高的優先順序。

- 此原則是預設的 (**IsDefault** 屬性具有`True`值)，且您無法刪除此項預設原則。
