---
title: EOP 如何驗證寄件者位址以避免網路釣魚
f1.keywords:
- NOCSH
ms.author: chrisda
author: chrisda
manager: dansimp
ms.date: ''
audience: ITPro
ms.topic: conceptual
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- OWC150
- MET150
ms.assetid: eef8408b-54d3-4d7d-9cf7-ad2af10b2e0e
ms.collection:
- M365-security-compliance
description: 系統管理員可以瞭解 Exchange Online Protection (EOP) 和 Outlook.com 所接受或拒絕的電子郵件地址類型，以協助防止網路釣魚。
ms.custom: seo-marvel-apr2020
ms.openlocfilehash: c67cf5855f2b0a99cf8d03bb6d7ba8557329b300
ms.sourcegitcommit: e12fa502bc216f6083ef5666f693a04bb727d4df
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/20/2020
ms.locfileid: "46827418"
---
# <a name="how-eop-validates-the-from-address-to-prevent-phishing"></a><span data-ttu-id="a60d6-103">EOP 如何驗證寄件者位址以避免網路釣魚</span><span class="sxs-lookup"><span data-stu-id="a60d6-103">How EOP validates the From address to prevent phishing</span></span>

<span data-ttu-id="a60d6-104">網路釣魚攻擊是對任何電子郵件組織造成的持續威脅。</span><span class="sxs-lookup"><span data-stu-id="a60d6-104">Phishing attacks are a constant threat to any email organization.</span></span> <span data-ttu-id="a60d6-105">除了使用 [冒牌 (偽造) 寄件者電子郵件地址](anti-spoofing-protection.md)，攻擊者通常會使用來自于網際網路標準的「寄件者」位址值。</span><span class="sxs-lookup"><span data-stu-id="a60d6-105">In addition to using [spoofed (forged) sender email addresses](anti-spoofing-protection.md), attackers often use values in the From address that violate internet standards.</span></span> <span data-ttu-id="a60d6-106">為了協助防止此類型的網路釣魚，Exchange Online Protection (EOP) 和 Outlook.com 現在要求輸入郵件包含與 RFC 相容的「來源位址」（如本主題所述）。</span><span class="sxs-lookup"><span data-stu-id="a60d6-106">To help prevent this type of phishing, Exchange Online Protection (EOP) and Outlook.com now require inbound messages to include an RFC-compliant From address as described in this topic.</span></span> <span data-ttu-id="a60d6-107">此強制已于2017年11月啟用。</span><span class="sxs-lookup"><span data-stu-id="a60d6-107">This enforcement was enabled in November 2017.</span></span>

<span data-ttu-id="a60d6-108">**附註**：</span><span class="sxs-lookup"><span data-stu-id="a60d6-108">**Notes**:</span></span>

- <span data-ttu-id="a60d6-109">如果您定期收到的電子郵件來自具有本主題所述位址格式錯誤的組織，請鼓勵這些組織更新其電子郵件伺服器，以遵守新式安全性標準。</span><span class="sxs-lookup"><span data-stu-id="a60d6-109">If you regularly receive email from organizations that have malformed From addresses as described in this topic, encourage these organizations to update their email servers to comply with modern security standards.</span></span>

- <span data-ttu-id="a60d6-110">「傳送代理者」和「郵寄清單」使用的相關寄件者欄位 () 不會受到這些需求的影響。</span><span class="sxs-lookup"><span data-stu-id="a60d6-110">The related Sender field (used by Send on Behalf and mailing lists) isn't affected by these requirements.</span></span> <span data-ttu-id="a60d6-111">如需詳細資訊，請參閱下列博客文章： [當我們參考電子郵件的「寄件者」時，這是什麼意思？](https://blogs.msdn.microsoft.com/tzink/2017/06/22/what-do-we-mean-when-we-refer-to-the-sender-of-an-email/)。</span><span class="sxs-lookup"><span data-stu-id="a60d6-111">For more information, see the following blog post: [What do we mean when we refer to the 'sender' of an email?](https://blogs.msdn.microsoft.com/tzink/2017/06/22/what-do-we-mean-when-we-refer-to-the-sender-of-an-email/).</span></span>

## <a name="an-overview-of-email-message-standards"></a><span data-ttu-id="a60d6-112">電子郵件訊息標準的概覽</span><span class="sxs-lookup"><span data-stu-id="a60d6-112">An overview of email message standards</span></span>

<span data-ttu-id="a60d6-113">標準 SMTP 電子郵件由「郵件信封」\*\*(Message Envelope) 和郵件內容組成。</span><span class="sxs-lookup"><span data-stu-id="a60d6-113">A standard SMTP email message consists of a *message envelope* and message content.</span></span> <span data-ttu-id="a60d6-114">郵件信封包含在 SMTP 伺服器之間傳輸及傳遞郵件所需的資訊。</span><span class="sxs-lookup"><span data-stu-id="a60d6-114">The message envelope contains information that's required for transmitting and delivering the message between SMTP servers.</span></span> <span data-ttu-id="a60d6-115">郵件內容包含統稱為 (「郵件標頭」\*\*) 的郵件標頭欄位和郵件內容。</span><span class="sxs-lookup"><span data-stu-id="a60d6-115">The message content contains message header fields (collectively called the *message header*) and the message body.</span></span> <span data-ttu-id="a60d6-116">[Rfc 5321](https://tools.ietf.org/html/rfc5321)會說明郵件信封，而[rfc 5322](https://tools.ietf.org/html/rfc5322)中說明郵件頭。</span><span class="sxs-lookup"><span data-stu-id="a60d6-116">The message envelope is described in [RFC 5321](https://tools.ietf.org/html/rfc5321), and the message header is described in [RFC 5322](https://tools.ietf.org/html/rfc5322).</span></span> <span data-ttu-id="a60d6-117">收件者永遠不會看到實際的郵件信封，因為它是由郵件傳輸程式所產生，而且實際上不是郵件的一部分。</span><span class="sxs-lookup"><span data-stu-id="a60d6-117">Recipients never see the actual message envelope because it's generated by the message transmission process, and it isn't actually part of the message.</span></span>

- <span data-ttu-id="a60d6-118">此 `5321.MailFrom` 位址 (也稱為「 **郵件來自** 位址」、「P1 寄件者」或「信封寄件者」) 是在郵件的 SMTP 傳輸中使用的電子郵件地址。</span><span class="sxs-lookup"><span data-stu-id="a60d6-118">The `5321.MailFrom` address (also known as the **MAIL FROM** address, P1 sender, or envelope sender) is the email address that's used in the SMTP transmission of the message.</span></span> <span data-ttu-id="a60d6-119">這個電子郵件地址通常會記錄在郵件頭的 [傳回 **路徑** 標頭] 欄位中 (不過，寄件者可能會指定不同的傳回 **路徑** 電子郵件地址) 。</span><span class="sxs-lookup"><span data-stu-id="a60d6-119">This email address is typically recorded in the **Return-Path** header field in the message header (although it's possible for the sender to designate a different **Return-Path** email address).</span></span>

- <span data-ttu-id="a60d6-120">`5322.From` (也稱為 from address 或 P2 sender) 是電子郵件地址**的收**件者標頭欄位，也就是顯示在電子郵件客戶程式中的寄件者電子郵件地址。</span><span class="sxs-lookup"><span data-stu-id="a60d6-120">The `5322.From` (also known as the From address or P2 sender) is the email address in the **From** header field, and is the sender's email address that's displayed in email clients.</span></span> <span data-ttu-id="a60d6-121">「寄件者位址」是本主題中需求的重點。</span><span class="sxs-lookup"><span data-stu-id="a60d6-121">The From address is the focus of the requirements in this topic.</span></span>

<span data-ttu-id="a60d6-122">「寄件者」位址會在多個 Rfc (中詳細定義，例如 RFC 5322 區段3.2.3、3.4 及3.4.1，以及 [rfc 3696](https://tools.ietf.org/html/rfc3696)) 。</span><span class="sxs-lookup"><span data-stu-id="a60d6-122">The From address is defined in detail across several RFCs (for example, RFC 5322 sections 3.2.3, 3.4, and 3.4.1, and [RFC 3696](https://tools.ietf.org/html/rfc3696)).</span></span> <span data-ttu-id="a60d6-123">定址的情況有許多變化，且被視為有效或無效。</span><span class="sxs-lookup"><span data-stu-id="a60d6-123">There are many variations on addressing and what's considered valid or invalid.</span></span> <span data-ttu-id="a60d6-124">為了簡化，我們建議您遵循下列格式及定義：</span><span class="sxs-lookup"><span data-stu-id="a60d6-124">To keep it simple, we recommend the following format and definitions:</span></span>

`From: "Display Name" <EmailAddress>`

- <span data-ttu-id="a60d6-125">**顯示名稱**：說明電子郵件地址擁有者的選用片語。</span><span class="sxs-lookup"><span data-stu-id="a60d6-125">**Display Name**: An optional phrase that describes the owner of the email address.</span></span>

  - <span data-ttu-id="a60d6-126">建議您永遠以雙引號括住顯示名稱 ( ") 如圖所示。</span><span class="sxs-lookup"><span data-stu-id="a60d6-126">We recommend that you always enclose the display name in double quotation marks (") as shown.</span></span> <span data-ttu-id="a60d6-127">如果顯示名稱包含逗號，則 _必須_ 在每個 RFC 5322 的雙引號內加上單引號。</span><span class="sxs-lookup"><span data-stu-id="a60d6-127">If the display name contains a comma, you _must_ enclose the string in double quotation marks per RFC 5322.</span></span>
  - <span data-ttu-id="a60d6-128">如果 [寄件者] 位址包含顯示名稱，則 EmailAddress 值必須括在角括弧 ( # A2) （如圖所示）。</span><span class="sxs-lookup"><span data-stu-id="a60d6-128">If the From address includes a display name, the EmailAddress value must be enclosed in angle brackets (< >) as shown.</span></span>
  - <span data-ttu-id="a60d6-129">Microsoft 強烈建議您在顯示名稱和電子郵件地址之間插入空格。</span><span class="sxs-lookup"><span data-stu-id="a60d6-129">Microsoft strongly recommends that you insert a space between the display name and the email address.</span></span>

- <span data-ttu-id="a60d6-130">**EmailAddress**：電子郵件地址使用下列格式 `local-part@domain` ：</span><span class="sxs-lookup"><span data-stu-id="a60d6-130">**EmailAddress**: An email address uses the format `local-part@domain`:</span></span>

  - <span data-ttu-id="a60d6-131">**本機部分**：識別與位址相關聯之信箱的字串。</span><span class="sxs-lookup"><span data-stu-id="a60d6-131">**local-part**: A string that identifies the mailbox associated with the address.</span></span> <span data-ttu-id="a60d6-132">此值在網域內是唯一的。</span><span class="sxs-lookup"><span data-stu-id="a60d6-132">This value is unique within the domain.</span></span> <span data-ttu-id="a60d6-133">通常會使用信箱擁有人的使用者名稱或 GUID。</span><span class="sxs-lookup"><span data-stu-id="a60d6-133">Often, the mailbox owner's username or GUID is used.</span></span>
  - <span data-ttu-id="a60d6-134">**domain**：主控電子郵件地址的本機部分所識別之信箱的電子郵件伺服器的完整功能變數名稱 (FQDN) 。</span><span class="sxs-lookup"><span data-stu-id="a60d6-134">**domain**: The fully qualified domain name (FQDN) of the email server that hosts the mailbox identified by the local-part of the email address.</span></span>

  <span data-ttu-id="a60d6-135">以下是 EmailAddress 值的一些額外考慮：</span><span class="sxs-lookup"><span data-stu-id="a60d6-135">These are some additional considerations for the EmailAddress value:</span></span>

  - <span data-ttu-id="a60d6-136">只有一個電子郵件地址。</span><span class="sxs-lookup"><span data-stu-id="a60d6-136">Only one email address.</span></span>
  - <span data-ttu-id="a60d6-137">建議您不要以空格分隔角括弧。</span><span class="sxs-lookup"><span data-stu-id="a60d6-137">We recommend that you do not separate the angle brackets with spaces.</span></span>
  - <span data-ttu-id="a60d6-138">不要在電子郵件地址後包含其他文字。</span><span class="sxs-lookup"><span data-stu-id="a60d6-138">Don't include additional text after the email address.</span></span>

## <a name="examples-of-valid-and-invalid-from-addresses"></a><span data-ttu-id="a60d6-139">有效和無效寄件者位址的範例</span><span class="sxs-lookup"><span data-stu-id="a60d6-139">Examples of valid and invalid From addresses</span></span>

<span data-ttu-id="a60d6-140">下列寄件者的電子郵件地址是有效的：</span><span class="sxs-lookup"><span data-stu-id="a60d6-140">The following From email addresses are valid:</span></span>

- `From: sender@contoso.com`

- `From: <sender@contoso.com>`

- <span data-ttu-id="a60d6-141">`From: < sender@contoso.com >` 因為角括弧和電子郵件地址之間有空格，所以不建議 (。 ) </span><span class="sxs-lookup"><span data-stu-id="a60d6-141">`From: < sender@contoso.com >` (Not recommended because there are spaces between the angle brackets and the email address.)</span></span>

- `From: "Sender, Example" <sender.example@contoso.com>`

- `From: "Microsoft 365" <sender@contoso.com>`

- <span data-ttu-id="a60d6-142">`From: Microsoft 365 <sender@contoso.com>` 不建議使用 (因為顯示名稱不是以雙引號括住。 ) </span><span class="sxs-lookup"><span data-stu-id="a60d6-142">`From: Microsoft 365 <sender@contoso.com>` (Not recommended because the display name is not enclosed in double quotation marks.)</span></span>

<span data-ttu-id="a60d6-143">下列寄件者電子郵件地址無效：</span><span class="sxs-lookup"><span data-stu-id="a60d6-143">The following From email addresses are invalid:</span></span>

- <span data-ttu-id="a60d6-144">**沒有寄件者位址**：部分自動化郵件不包含寄件者位址。</span><span class="sxs-lookup"><span data-stu-id="a60d6-144">**No From address**: Some automated messages don't include a From address.</span></span> <span data-ttu-id="a60d6-145">過去，當 Microsoft 365 或 Outlook.com 收到沒有寄件者位址的郵件時，此服務會新增下列預設值： address，使郵件可傳送：</span><span class="sxs-lookup"><span data-stu-id="a60d6-145">In the past, when Microsoft 365 or Outlook.com received a message without a From address, the service added the following default From: address to make the message deliverable:</span></span>

  `From: <>`

  <span data-ttu-id="a60d6-146">現在，已不再接受來自位址為空白的郵件。</span><span class="sxs-lookup"><span data-stu-id="a60d6-146">Now, messages with a blank From address are no longer accepted.</span></span>

- <span data-ttu-id="a60d6-147">`From: Microsoft 365 sender@contoso.com` (顯示名稱已存在，但是電子郵件地址不是以角括弧括住。 ) </span><span class="sxs-lookup"><span data-stu-id="a60d6-147">`From: Microsoft 365 sender@contoso.com` (The display name is present, but the email address is not enclosed in angle brackets.)</span></span>

- <span data-ttu-id="a60d6-148">`From: "Microsoft 365" <sender@contoso.com> (Sent by a process)` (的電子郵件地址後的文字。 ) </span><span class="sxs-lookup"><span data-stu-id="a60d6-148">`From: "Microsoft 365" <sender@contoso.com> (Sent by a process)` (Text after the email address.)</span></span>

- <span data-ttu-id="a60d6-149">`From: Sender, Example <sender.example@contoso.com>` (顯示名稱包含逗點，但沒有以雙引號括住。 ) </span><span class="sxs-lookup"><span data-stu-id="a60d6-149">`From: Sender, Example <sender.example@contoso.com>` (The display name contains a comma, but is not enclosed in double quotation marks.)</span></span>

- <span data-ttu-id="a60d6-150">`From: "Microsoft 365 <sender@contoso.com>"` (整個值都錯誤地用雙引號括住。 ) </span><span class="sxs-lookup"><span data-stu-id="a60d6-150">`From: "Microsoft 365 <sender@contoso.com>"` (The whole value is incorrectly enclosed in double quotation marks.)</span></span>

- <span data-ttu-id="a60d6-151">`From: "Microsoft 365 <sender@contoso.com>" sender@contoso.com` (顯示名稱已存在，但是電子郵件地址不是以角括弧括住。 ) </span><span class="sxs-lookup"><span data-stu-id="a60d6-151">`From: "Microsoft 365 <sender@contoso.com>" sender@contoso.com` (The display name is present, but the email address is not enclosed in angle brackets.)</span></span>

- <span data-ttu-id="a60d6-152">`From: Microsoft 365<sender@contoso.com>` (顯示名稱和左邊的角括弧之間沒有空格。 ) </span><span class="sxs-lookup"><span data-stu-id="a60d6-152">`From: Microsoft 365<sender@contoso.com>` (No space between the display name and the left angle bracket.)</span></span>

- <span data-ttu-id="a60d6-153">`From: "Microsoft 365"<sender@contoso.com>` (的右雙引號和左邊的角括弧之間沒有空格。 ) </span><span class="sxs-lookup"><span data-stu-id="a60d6-153">`From: "Microsoft 365"<sender@contoso.com>` (No space between the closing double quotation mark and the left angle bracket.)</span></span>

## <a name="suppress-auto-replies-to-your-custom-domain"></a><span data-ttu-id="a60d6-154">抑制您的自訂網域的自動回復</span><span class="sxs-lookup"><span data-stu-id="a60d6-154">Suppress auto-replies to your custom domain</span></span>

<span data-ttu-id="a60d6-155">您無法使用此值 `From: <>` 來抑制自動回復。</span><span class="sxs-lookup"><span data-stu-id="a60d6-155">You can't use the value `From: <>` to suppress auto-replies.</span></span> <span data-ttu-id="a60d6-156">相反地，您必須為您的自訂網域設定空的 MX 記錄。</span><span class="sxs-lookup"><span data-stu-id="a60d6-156">Instead, you need to set up a null MX record for your custom domain.</span></span> <span data-ttu-id="a60d6-157">自動回復 (和所有回復) 會以自然抑制，因為回應伺服器無法傳送郵件的發行位址。</span><span class="sxs-lookup"><span data-stu-id="a60d6-157">Auto-replies (and all replies) are naturally suppressed because there is no published address that the responding server can send messages to.</span></span>

- <span data-ttu-id="a60d6-158">選擇無法接收電子郵件的電子郵件網域。</span><span class="sxs-lookup"><span data-stu-id="a60d6-158">Choose an email domain that can't receive email.</span></span> <span data-ttu-id="a60d6-159">例如，如果您的主要網域是 contoso.com，您可以選擇 [noreply.contoso.com]。</span><span class="sxs-lookup"><span data-stu-id="a60d6-159">For example, if your primary domain is contoso.com, you might choose noreply.contoso.com.</span></span>

- <span data-ttu-id="a60d6-160">此網域的 null MX 記錄是由單一句點所組成。</span><span class="sxs-lookup"><span data-stu-id="a60d6-160">The null MX record for this domain consists of a single period.</span></span>

<span data-ttu-id="a60d6-161">例如：</span><span class="sxs-lookup"><span data-stu-id="a60d6-161">For example:</span></span>

```text
noreply.contoso.com IN MX .
```

<span data-ttu-id="a60d6-162">如需設定 MX 記錄的詳細資訊，請參閱 [在 Microsoft 365 的任何 DNS 主機服務提供者中建立 dns 記錄](../../admin/get-help-with-domains/create-dns-records-at-any-dns-hosting-provider.md)。</span><span class="sxs-lookup"><span data-stu-id="a60d6-162">For more information about setting up MX records, see [Create DNS records at any DNS hosting provider for Microsoft 365](../../admin/get-help-with-domains/create-dns-records-at-any-dns-hosting-provider.md).</span></span>

<span data-ttu-id="a60d6-163">如需有關發佈 null MX 的詳細資訊，請參閱 [RFC 7505](https://tools.ietf.org/html/rfc7505)。</span><span class="sxs-lookup"><span data-stu-id="a60d6-163">For more information about publishing a null MX, see [RFC 7505](https://tools.ietf.org/html/rfc7505).</span></span>

## <a name="override-from-address-enforcement"></a><span data-ttu-id="a60d6-164">從位址強制覆寫</span><span class="sxs-lookup"><span data-stu-id="a60d6-164">Override From address enforcement</span></span>

<span data-ttu-id="a60d6-165">若要略過輸入電子郵件的寄件者位址需求，您可以使用 IP 允許清單 (連線篩選) 或郵件流程規則 (也稱為 transport rules) 如在 [Microsoft 365 中建立安全的寄件者清單中](create-safe-sender-lists-in-office-365.md)所述。</span><span class="sxs-lookup"><span data-stu-id="a60d6-165">To bypass the From address requirements for inbound email, you can use the IP Allow List (connection filtering) or mail flow rules (also known as transport rules) as described in [Create safe sender lists in Microsoft 365](create-safe-sender-lists-in-office-365.md).</span></span>

<span data-ttu-id="a60d6-166">您無法覆寫從 Microsoft 365 傳送的輸出電子郵件的寄件者位址需求。</span><span class="sxs-lookup"><span data-stu-id="a60d6-166">You can't override the From address requirements for outbound email that you send from Microsoft 365.</span></span> <span data-ttu-id="a60d6-167">此外，Outlook.com 將不允許任何類型的覆寫（甚至是透過支援）。</span><span class="sxs-lookup"><span data-stu-id="a60d6-167">In addition, Outlook.com will not allow overrides of any kind, even through support.</span></span>

## <a name="other-ways-to-prevent-and-protect-against-cybercrimes-in-microsoft-365"></a><span data-ttu-id="a60d6-168">在 Microsoft 365 中防止及防禦 cybercrimes 的其他方式</span><span class="sxs-lookup"><span data-stu-id="a60d6-168">Other ways to prevent and protect against cybercrimes in Microsoft 365</span></span>

<span data-ttu-id="a60d6-169">如需如何強化組織抵禦網路釣魚、垃圾郵件、資料違例及其他威脅的詳細資訊，請參閱 [保護 Microsoft 365 for business 方案的前10種方式](../../admin/security-and-compliance/secure-your-business-data.md)。</span><span class="sxs-lookup"><span data-stu-id="a60d6-169">For more information on how you can strengthen your organization against phishing, spam, data breaches, and other threats, see [Top 10 ways to secure Microsoft 365 for business plans](../../admin/security-and-compliance/secure-your-business-data.md).</span></span>
