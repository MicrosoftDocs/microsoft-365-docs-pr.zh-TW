---
title: 自訂 exploit protection
keywords: Exploit protection，緩解，enable，powershell，dep，cfg，emet，aslr
description: 您可以使用 Windows 安全性應用程式或 PowerShell，啟用或停用 exploit protection 所使用的特定緩解。 您也可以審核緩解及匯出設定。
search.product: eADQiWindows 10XVcnh
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
localization_priority: Normal
audience: ITPro
author: levinec
ms.author: ellevin
ms.reviewer: ''
manager: dansimp
ms.technology: mde
ms.openlocfilehash: b7577d52ac5de9dd4585692d558f172f0137f59e
ms.sourcegitcommit: 2a708650b7e30a53d10a2fe3164c6ed5ea37d868
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/24/2021
ms.locfileid: "51166038"
---
# <a name="customize-exploit-protection"></a><span data-ttu-id="50cf8-105">自訂 exploit protection</span><span class="sxs-lookup"><span data-stu-id="50cf8-105">Customize exploit protection</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]


<span data-ttu-id="50cf8-106">**適用於：**</span><span class="sxs-lookup"><span data-stu-id="50cf8-106">**Applies to:**</span></span>
- [<span data-ttu-id="50cf8-107">適用於端點的 Microsoft Defender</span><span class="sxs-lookup"><span data-stu-id="50cf8-107">Microsoft Defender for Endpoint</span></span>](https://go.microsoft.com/fwlink/p/?linkid=2154037)
- [<span data-ttu-id="50cf8-108">Microsoft 365 Defender</span><span class="sxs-lookup"><span data-stu-id="50cf8-108">Microsoft 365 Defender</span></span>](https://go.microsoft.com/fwlink/?linkid=2118804)

><span data-ttu-id="50cf8-109">想要體驗 Defender for Endpoint？</span><span class="sxs-lookup"><span data-stu-id="50cf8-109">Want to experience Defender for Endpoint?</span></span> [<span data-ttu-id="50cf8-110">註冊免費試用版。</span><span class="sxs-lookup"><span data-stu-id="50cf8-110">Sign up for a free trial.</span></span>](https://www.microsoft.com/microsoft-365/windows/microsoft-defender-atp?ocid=docs-wdatp-assignaccess-abovefoldlink)


<span data-ttu-id="50cf8-111">Exploit protection 會在作業系統進程和個別應用程式上自動套用許多利用漏洞緩解技術。</span><span class="sxs-lookup"><span data-stu-id="50cf8-111">Exploit protection automatically applies a number of exploit mitigation techniques on both the operating system processes and on individual apps.</span></span>

<span data-ttu-id="50cf8-112">在個別裝置上使用 Windows 安全性應用程式來設定這些設定。</span><span class="sxs-lookup"><span data-stu-id="50cf8-112">Configure these settings using the Windows Security app on an individual device.</span></span> <span data-ttu-id="50cf8-113">然後，將設定匯出為 XML 檔案，讓您可以部署至其他裝置。</span><span class="sxs-lookup"><span data-stu-id="50cf8-113">Then, export the configuration as an XML file so you can deploy to other devices.</span></span> <span data-ttu-id="50cf8-114">使用群組原則將 XML 檔案同時發佈至多個裝置。</span><span class="sxs-lookup"><span data-stu-id="50cf8-114">Use Group Policy to distribute the XML file to multiple devices at once.</span></span> <span data-ttu-id="50cf8-115">您也可以使用 PowerShell 設定緩解。</span><span class="sxs-lookup"><span data-stu-id="50cf8-115">You can also configure the mitigations with PowerShell.</span></span>

<span data-ttu-id="50cf8-116">本文列出可在 exploit protection 中使用的每個緩解措施。</span><span class="sxs-lookup"><span data-stu-id="50cf8-116">This article lists each of the mitigations available in exploit protection.</span></span> <span data-ttu-id="50cf8-117">它會指出是否可以將緩解措施套用到整個系統或個別應用程式，並提供緩解措施運作方式的簡短描述。</span><span class="sxs-lookup"><span data-stu-id="50cf8-117">It indicates whether the mitigation can be applied system-wide or to individual apps, and provides a brief description of how the mitigation works.</span></span>

<span data-ttu-id="50cf8-118">同時也說明如何使用 Windows 安全性、PowerShell 及行動裝置管理 (MDM) 設定服務提供者 (Csp) 來啟用或設定緩解。</span><span class="sxs-lookup"><span data-stu-id="50cf8-118">It also describes how to enable or configure the mitigations using Windows Security, PowerShell, and mobile device management (MDM) configuration service providers (CSPs).</span></span> <span data-ttu-id="50cf8-119">這是建立設定的第一個步驟，您可以在網路上部署。</span><span class="sxs-lookup"><span data-stu-id="50cf8-119">This is the first step in creating a configuration that you can deploy across your network.</span></span> <span data-ttu-id="50cf8-120">接下來的步驟包括 [對多個裝置產生、匯出、匯入和部署](import-export-exploit-protection-emet-xml.md)設定。</span><span class="sxs-lookup"><span data-stu-id="50cf8-120">The next step involves [generating, exporting, importing, and deploying the configuration to multiple devices](import-export-exploit-protection-emet-xml.md).</span></span>

> [!WARNING]
> <span data-ttu-id="50cf8-121">某些安全性緩解技術可能會對某些應用程式產生相容性問題。</span><span class="sxs-lookup"><span data-stu-id="50cf8-121">Some security mitigation technologies may have compatibility issues with some applications.</span></span> <span data-ttu-id="50cf8-122">在整個實際執行環境中或網路的其餘部分部署設定之前，您應該使用「 [審計模式](evaluate-exploit-protection.md) 」來測試所有目標使用案例中的 exploit protection。</span><span class="sxs-lookup"><span data-stu-id="50cf8-122">You should test exploit protection in all target use scenarios by using [audit mode](evaluate-exploit-protection.md) before deploying the configuration across a production environment or the rest of your network.</span></span>

## <a name="exploit-protection-mitigations"></a><span data-ttu-id="50cf8-123">Exploit protection 緩解</span><span class="sxs-lookup"><span data-stu-id="50cf8-123">Exploit protection mitigations</span></span>

<span data-ttu-id="50cf8-124">所有的緩解可以設定為個別應用程式。</span><span class="sxs-lookup"><span data-stu-id="50cf8-124">All mitigations can be configured for individual apps.</span></span> <span data-ttu-id="50cf8-125">有些遷移也可以套用至作業系統層級。</span><span class="sxs-lookup"><span data-stu-id="50cf8-125">Some mitigations can also be applied at the operating system level.</span></span>

<span data-ttu-id="50cf8-126">您可以將每個緩解措施設定為 [開啟]、[關閉] 或 [其預設值]。</span><span class="sxs-lookup"><span data-stu-id="50cf8-126">You can set each of the mitigations on, off, or to their default value.</span></span> <span data-ttu-id="50cf8-127">有些遷移具有表格描述中所指出的其他選項。</span><span class="sxs-lookup"><span data-stu-id="50cf8-127">Some mitigations have additional options that are indicated in the description in the table.</span></span>

<span data-ttu-id="50cf8-128">預設值在每個緩解措施的 [ **使用預設** 值] 選項中，永遠會以括弧括住。</span><span class="sxs-lookup"><span data-stu-id="50cf8-128">Default values are always specified in brackets at the **Use default** option for each mitigation.</span></span> <span data-ttu-id="50cf8-129">在下列範例中，資料執行防護的預設值為「開啟」。</span><span class="sxs-lookup"><span data-stu-id="50cf8-129">In the following example, the default for Data Execution Prevention is "On".</span></span>

<span data-ttu-id="50cf8-130">每個緩解設定的 **使用預設** 設定表示我們為家用使用者日常使用提供基本層級保護的建議。</span><span class="sxs-lookup"><span data-stu-id="50cf8-130">The **Use default** configuration for each of the mitigation settings indicates our recommendation for a base level of protection for everyday usage for home users.</span></span> <span data-ttu-id="50cf8-131">企業部署應該考慮其個人需求所需的保護，而且可能需要修改離預設值的設定。</span><span class="sxs-lookup"><span data-stu-id="50cf8-131">Enterprise deployments should consider the protection required for their individual needs and may need to modify configuration away from the defaults.</span></span>

<span data-ttu-id="50cf8-132">針對每個緩解工作相關聯的 PowerShell Cmdlet，請參閱本文底部的 [PowerShell 參考資料表](#cmdlets-table) 。</span><span class="sxs-lookup"><span data-stu-id="50cf8-132">For the associated PowerShell cmdlets for each mitigation, see the [PowerShell reference table](#cmdlets-table) at the bottom of this article.</span></span>

| <span data-ttu-id="50cf8-133">風險降低</span><span class="sxs-lookup"><span data-stu-id="50cf8-133">Mitigation</span></span> | <span data-ttu-id="50cf8-134">描述</span><span class="sxs-lookup"><span data-stu-id="50cf8-134">Description</span></span> | <span data-ttu-id="50cf8-135">可套用至</span><span class="sxs-lookup"><span data-stu-id="50cf8-135">Can be applied to</span></span> | <span data-ttu-id="50cf8-136">可使用的審計模式</span><span class="sxs-lookup"><span data-stu-id="50cf8-136">Audit mode available</span></span> |
| ---------- | ----------- | ----------------- | -------------------- |
| <span data-ttu-id="50cf8-137">控制流量防護 (CFG) </span><span class="sxs-lookup"><span data-stu-id="50cf8-137">Control flow guard (CFG)</span></span> | <span data-ttu-id="50cf8-138">確保間接通話的控制流程完整性。</span><span class="sxs-lookup"><span data-stu-id="50cf8-138">Ensures control flow integrity for indirect calls.</span></span> <span data-ttu-id="50cf8-139">可以選擇性地抑制匯出，並使用嚴格的 CFG。</span><span class="sxs-lookup"><span data-stu-id="50cf8-139">Can optionally suppress exports and use strict CFG.</span></span> | <span data-ttu-id="50cf8-140">系統和應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-140">System and app-level</span></span> | ![核取記號否](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="50cf8-142">資料執行防護 (DEP) </span><span class="sxs-lookup"><span data-stu-id="50cf8-142">Data Execution Prevention (DEP)</span></span> | <span data-ttu-id="50cf8-143">禁止從僅限資料的記憶體頁面（如堆和堆疊）執行程式碼。</span><span class="sxs-lookup"><span data-stu-id="50cf8-143">Prevents code from being run from data-only memory pages such as the heap and stacks.</span></span> <span data-ttu-id="50cf8-144">僅適用于32位 (x86) 應用程式，可針對所有其他架構永久啟用。</span><span class="sxs-lookup"><span data-stu-id="50cf8-144">Only configurable for 32-bit (x86) apps, permanently enabled for all other architectures.</span></span> <span data-ttu-id="50cf8-145">可以選擇啟用 ATL Thunk 模擬。</span><span class="sxs-lookup"><span data-stu-id="50cf8-145">Can optionally enable ATL thunk emulation.</span></span> | <span data-ttu-id="50cf8-146">系統和應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-146">System and app-level</span></span>  | ![核取記號否](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="50cf8-148"> (強制的 ASLR 中強制執行影像的隨機化) </span><span class="sxs-lookup"><span data-stu-id="50cf8-148">Force randomization for images (Mandatory ASLR)</span></span> | <span data-ttu-id="50cf8-149">強制重新安置未以/DYNAMICBASE. 編譯的影像</span><span class="sxs-lookup"><span data-stu-id="50cf8-149">Forcibly relocates images not compiled with /DYNAMICBASE.</span></span> <span data-ttu-id="50cf8-150">可以選擇性地載入不會重新安置資訊的影像。</span><span class="sxs-lookup"><span data-stu-id="50cf8-150">Can optionally fail loading images that don't have relocation information.</span></span> | <span data-ttu-id="50cf8-151">系統和應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-151">System and app-level</span></span>  | ![核取記號否](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="50cf8-153">在 (自下而上的 ASLR) 隨機化記憶體分配</span><span class="sxs-lookup"><span data-stu-id="50cf8-153">Randomize memory allocations (Bottom-Up ASLR)</span></span> | <span data-ttu-id="50cf8-154">虛擬記憶體分配的 Randomizes 位置。</span><span class="sxs-lookup"><span data-stu-id="50cf8-154">Randomizes locations for virtual memory allocations.</span></span> <span data-ttu-id="50cf8-155">它包含系統結構堆、堆疊、TEBs 及 PEBs。</span><span class="sxs-lookup"><span data-stu-id="50cf8-155">It includes system structure heaps, stacks, TEBs, and PEBs.</span></span> <span data-ttu-id="50cf8-156">您可以選擇性地使用64位程式的更大隨機變化。</span><span class="sxs-lookup"><span data-stu-id="50cf8-156">Can optionally use a wider randomization variance for 64-bit processes.</span></span> | <span data-ttu-id="50cf8-157">系統和應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-157">System and app-level</span></span> | ![核取記號否](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="50cf8-159">驗證例外鏈 (SEHOP) </span><span class="sxs-lookup"><span data-stu-id="50cf8-159">Validate exception chains (SEHOP)</span></span> | <span data-ttu-id="50cf8-160">在例外狀況派遣期間確保例外狀況鏈的完整性。</span><span class="sxs-lookup"><span data-stu-id="50cf8-160">Ensures the integrity of an exception chain during exception dispatch.</span></span> <span data-ttu-id="50cf8-161">僅可設定32位 (x86) 應用程式。</span><span class="sxs-lookup"><span data-stu-id="50cf8-161">Only configurable for 32-bit (x86) applications.</span></span> | <span data-ttu-id="50cf8-162">系統和應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-162">System and app-level</span></span>  | ![核取記號否](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="50cf8-164">驗證堆完整性</span><span class="sxs-lookup"><span data-stu-id="50cf8-164">Validate heap integrity</span></span> | <span data-ttu-id="50cf8-165">在偵測到堆損毀時終止進程。</span><span class="sxs-lookup"><span data-stu-id="50cf8-165">Terminates a process when heap corruption is detected.</span></span> | <span data-ttu-id="50cf8-166">系統和應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-166">System and app-level</span></span>  | ![核取記號否](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="50cf8-168">任意代碼防護 (ACG) </span><span class="sxs-lookup"><span data-stu-id="50cf8-168">Arbitrary code guard (ACG)</span></span> | <span data-ttu-id="50cf8-169">防止引入未影像備份的可執行程式碼，並防止修改程式字碼頁。</span><span class="sxs-lookup"><span data-stu-id="50cf8-169">Prevents the introduction of non-image-backed executable code and prevents code pages from being modified.</span></span> <span data-ttu-id="50cf8-170">可以選擇性地允許執行緒自願退出，並且允許遠端降級 (僅可設定 PowerShell) 。</span><span class="sxs-lookup"><span data-stu-id="50cf8-170">Can optionally allow thread opt-out and allow remote downgrade (configurable only with PowerShell).</span></span> | <span data-ttu-id="50cf8-171">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-171">App-level only</span></span> | ![核取記號是](/security/defender-endpoint/images/svg/check-yes) |
| <span data-ttu-id="50cf8-173">封鎖低誠信影像</span><span class="sxs-lookup"><span data-stu-id="50cf8-173">Block low integrity images</span></span> | <span data-ttu-id="50cf8-174">避免載入標示為低完整性的影像。</span><span class="sxs-lookup"><span data-stu-id="50cf8-174">Prevents the loading of images marked with Low Integrity.</span></span> | <span data-ttu-id="50cf8-175">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-175">App-level only</span></span> | ![核取記號是](/security/defender-endpoint/images/svg/check-yes)|
| <span data-ttu-id="50cf8-177">封鎖遠端映射</span><span class="sxs-lookup"><span data-stu-id="50cf8-177">Block remote images</span></span> | <span data-ttu-id="50cf8-178">防止從遠端裝置載入影像。</span><span class="sxs-lookup"><span data-stu-id="50cf8-178">Prevents loading of images from remote devices.</span></span> | <span data-ttu-id="50cf8-179">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-179">App-level only</span></span> | <span data-ttu-id="50cf8-180">![核取記號 no] (/security/defender-endpoint/images/svg/check-no</span><span class="sxs-lookup"><span data-stu-id="50cf8-180">![Check mark no](/security/defender-endpoint/images/svg/check-no</span></span> |
| <span data-ttu-id="50cf8-181">封鎖不受信任的字體</span><span class="sxs-lookup"><span data-stu-id="50cf8-181">Block untrusted fonts</span></span> | <span data-ttu-id="50cf8-182">避免載入任何未安裝在 [系統字體] 目錄中的 GDI 式字型，尤其是網頁中的字型。</span><span class="sxs-lookup"><span data-stu-id="50cf8-182">Prevents loading any GDI-based fonts not installed in the system fonts directory, notably fonts from the web.</span></span> | <span data-ttu-id="50cf8-183">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-183">App-level only</span></span> | <span data-ttu-id="50cf8-184">！包含[核取記號 yes](/security/defender-endpoint/images/svg/check-yes)</span><span class="sxs-lookup"><span data-stu-id="50cf8-184">!include[Check mark yes](/security/defender-endpoint/images/svg/check-yes)</span></span> |
| <span data-ttu-id="50cf8-185">程式碼整體性防護</span><span class="sxs-lookup"><span data-stu-id="50cf8-185">Code integrity guard</span></span> | <span data-ttu-id="50cf8-186">限制載入由 Microsoft、WHQL 或更高版本所簽署的影像。</span><span class="sxs-lookup"><span data-stu-id="50cf8-186">Restricts loading of images signed by Microsoft, WHQL, or higher.</span></span> <span data-ttu-id="50cf8-187">可以選擇性地允許 Microsoft Store 簽署的影像。</span><span class="sxs-lookup"><span data-stu-id="50cf8-187">Can optionally allow Microsoft Store signed images.</span></span> | <span data-ttu-id="50cf8-188">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-188">App-level only</span></span> | ![核取記號是](/security/defender-endpoint/images/svg/check-yes) |
| <span data-ttu-id="50cf8-190">停用分機點</span><span class="sxs-lookup"><span data-stu-id="50cf8-190">Disable extension points</span></span> | <span data-ttu-id="50cf8-191">停用各種可允許 DLL 插入所有程式的擴充機制，例如 AppInit Dll、視窗掛鉤及 Winsock 服務提供者。</span><span class="sxs-lookup"><span data-stu-id="50cf8-191">Disables various extensibility mechanisms that allow DLL injection into all processes, such as AppInit DLLs, window hooks, and Winsock service providers.</span></span> | <span data-ttu-id="50cf8-192">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-192">App-level only</span></span> | ![核取記號否](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="50cf8-194">停用 Win32k 系統通話</span><span class="sxs-lookup"><span data-stu-id="50cf8-194">Disable Win32k system calls</span></span> | <span data-ttu-id="50cf8-195">防止應用程式使用 Win32k 系統呼叫表。</span><span class="sxs-lookup"><span data-stu-id="50cf8-195">Prevents an app from using the Win32k system call table.</span></span> | <span data-ttu-id="50cf8-196">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-196">App-level only</span></span> | ![核取記號是](/security/defender-endpoint/images/svg/check-yes) |
| <span data-ttu-id="50cf8-198">不允許子流程</span><span class="sxs-lookup"><span data-stu-id="50cf8-198">Don't allow child processes</span></span> | <span data-ttu-id="50cf8-199">阻止應用程式建立子流程。</span><span class="sxs-lookup"><span data-stu-id="50cf8-199">Prevents an app from creating child processes.</span></span> | <span data-ttu-id="50cf8-200">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-200">App-level only</span></span> | ![核取記號是](/security/defender-endpoint/images/svg/check-yes) |
| <span data-ttu-id="50cf8-202">匯出位址篩選 (EAF) </span><span class="sxs-lookup"><span data-stu-id="50cf8-202">Export address filtering (EAF)</span></span> | <span data-ttu-id="50cf8-203">偵測惡意程式碼解決的危險作業。</span><span class="sxs-lookup"><span data-stu-id="50cf8-203">Detects dangerous operations being resolved by malicious code.</span></span> <span data-ttu-id="50cf8-204">可以選擇性地驗證受攻擊常用的模組存取。</span><span class="sxs-lookup"><span data-stu-id="50cf8-204">Can optionally validate access by modules commonly used by exploits.</span></span> | <span data-ttu-id="50cf8-205">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-205">App-level only</span></span> | ![核取記號是](/security/defender-endpoint/images/svg/check-yes) |
| <span data-ttu-id="50cf8-207">匯入位址篩選 (IAF) </span><span class="sxs-lookup"><span data-stu-id="50cf8-207">Import address filtering (IAF)</span></span> | <span data-ttu-id="50cf8-208">偵測惡意程式碼解決的危險作業。</span><span class="sxs-lookup"><span data-stu-id="50cf8-208">Detects dangerous operations being resolved by malicious code.</span></span> | <span data-ttu-id="50cf8-209">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-209">App-level only</span></span> | ![核取記號是](/security/defender-endpoint/images/svg/check-yes) |
| <span data-ttu-id="50cf8-211">模擬執行 (SimExec) </span><span class="sxs-lookup"><span data-stu-id="50cf8-211">Simulate execution (SimExec)</span></span> | <span data-ttu-id="50cf8-212">確保對機密 APIs 的呼叫回到合法來電者。</span><span class="sxs-lookup"><span data-stu-id="50cf8-212">Ensures that calls to sensitive APIs return to legitimate callers.</span></span> <span data-ttu-id="50cf8-213">僅可設定32位 (x86) 應用程式。</span><span class="sxs-lookup"><span data-stu-id="50cf8-213">Only configurable for 32-bit (x86) applications.</span></span> <span data-ttu-id="50cf8-214">不相容 ACG</span><span class="sxs-lookup"><span data-stu-id="50cf8-214">Not compatible with ACG</span></span> | <span data-ttu-id="50cf8-215">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-215">App-level only</span></span> | ![核取記號是](/security/defender-endpoint/images/svg/check-yes) |
| <span data-ttu-id="50cf8-217">驗證 API 呼叫 (CallerCheck) </span><span class="sxs-lookup"><span data-stu-id="50cf8-217">Validate API invocation (CallerCheck)</span></span> | <span data-ttu-id="50cf8-218">確保合法的來電者會呼叫敏感 APIs。</span><span class="sxs-lookup"><span data-stu-id="50cf8-218">Ensures that sensitive APIs are invoked by legitimate callers.</span></span> <span data-ttu-id="50cf8-219">僅可設定32位 (x86) 應用程式。</span><span class="sxs-lookup"><span data-stu-id="50cf8-219">Only configurable for 32-bit (x86) applications.</span></span> <span data-ttu-id="50cf8-220">不相容 ACG</span><span class="sxs-lookup"><span data-stu-id="50cf8-220">Not compatible with ACG</span></span> | <span data-ttu-id="50cf8-221">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-221">App-level only</span></span> | ![核取記號是](/security/defender-endpoint/images/svg/check-yes) |
| <span data-ttu-id="50cf8-223">驗證控制碼使用狀況</span><span class="sxs-lookup"><span data-stu-id="50cf8-223">Validate handle usage</span></span> | <span data-ttu-id="50cf8-224">會導致任何不正確控點參照引發例外狀況。</span><span class="sxs-lookup"><span data-stu-id="50cf8-224">Causes an exception to be raised on any invalid handle references.</span></span> | <span data-ttu-id="50cf8-225">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-225">App-level only</span></span> | ![核取記號否](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="50cf8-227">驗證映射相依性完整性</span><span class="sxs-lookup"><span data-stu-id="50cf8-227">Validate image dependency integrity</span></span> | <span data-ttu-id="50cf8-228">強制執行 Windows 映像相依性載入的代碼簽署。</span><span class="sxs-lookup"><span data-stu-id="50cf8-228">Enforces code signing for Windows image dependency loading.</span></span> | <span data-ttu-id="50cf8-229">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-229">App-level only</span></span> | ![核取記號否](/security/defender-endpoint/images/svg/check-no) |
| <span data-ttu-id="50cf8-231">驗證堆疊整體性 (StackPivot) </span><span class="sxs-lookup"><span data-stu-id="50cf8-231">Validate stack integrity (StackPivot)</span></span> | <span data-ttu-id="50cf8-232">確保堆疊未重新導向機密 APIs。</span><span class="sxs-lookup"><span data-stu-id="50cf8-232">Ensures that the stack hasn't been redirected for sensitive APIs.</span></span> <span data-ttu-id="50cf8-233">不相容 ACG</span><span class="sxs-lookup"><span data-stu-id="50cf8-233">Not compatible with ACG</span></span> | <span data-ttu-id="50cf8-234">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-234">App-level only</span></span> | ![核取記號是](/security/defender-endpoint/images/svg/check-yes) |


> [!IMPORTANT]
> <span data-ttu-id="50cf8-236">如果您將應用程式新增至 [ **程式設定** ] 區段中，並在其中設定個別的緩解設定，則會在 [ **系統設定** ] 區段中所指定的相同緩解措施的設定之上進行設定。</span><span class="sxs-lookup"><span data-stu-id="50cf8-236">If you add an app to the **Program settings** section and configure individual mitigation settings there, they will be honored above the configuration for the same mitigations specified in the **System settings** section.</span></span> <span data-ttu-id="50cf8-237">下列矩陣和範例可協助說明預設值的運作方式：</span><span class="sxs-lookup"><span data-stu-id="50cf8-237">The following matrix and examples help to illustrate how defaults work:</span></span>
>
>
> | <span data-ttu-id="50cf8-238">啟用于 **程式設定**</span><span class="sxs-lookup"><span data-stu-id="50cf8-238">Enabled in **Program settings**</span></span> | <span data-ttu-id="50cf8-239">在 [**系統設定**] 中啟用</span><span class="sxs-lookup"><span data-stu-id="50cf8-239">Enabled in **System settings**</span></span> | <span data-ttu-id="50cf8-240">行為</span><span class="sxs-lookup"><span data-stu-id="50cf8-240">Behavior</span></span> |
> | ------------------------------- | ------------------------------ | -------- |
> | ![核取記號是](/security/defender-endpoint/images/svg/check-yes) | ![核取記號否](/security/defender-endpoint/images/svg/check-no) | <span data-ttu-id="50cf8-243">如 **程式設定** 中所定義</span><span class="sxs-lookup"><span data-stu-id="50cf8-243">As defined in **Program settings**</span></span> |
> | ![核取記號是](/security/defender-endpoint/images/svg/check-yes) | ![核取記號是](/security/defender-endpoint/images/svg/check-yes) | <span data-ttu-id="50cf8-246">如 **程式設定** 中所定義</span><span class="sxs-lookup"><span data-stu-id="50cf8-246">As defined in **Program settings**</span></span> |
> | ![核取記號否](/security/defender-endpoint/images/svg/check-no) | ![核取記號是](/security/defender-endpoint/images/svg/check-yes) | <span data-ttu-id="50cf8-249">如 **系統設定** 中所定義</span><span class="sxs-lookup"><span data-stu-id="50cf8-249">As defined in **System settings**</span></span> |
> | ![核取記號否](/security/defender-endpoint/images/svg/check-no) | ![核取記號是](/security/defender-endpoint/images/svg/check-yes) | <span data-ttu-id="50cf8-252">**使用預設** 選項中定義的預設值</span><span class="sxs-lookup"><span data-stu-id="50cf8-252">Default as defined in **Use default** option</span></span> |
>
>
>
> * <span data-ttu-id="50cf8-253">**範例 1**</span><span class="sxs-lookup"><span data-stu-id="50cf8-253">**Example 1**</span></span>
>
>    <span data-ttu-id="50cf8-254">Mikael 會在 [**系統設定**] 區段中設定 **資料執行防護 (DEP)** **預設為關閉**。</span><span class="sxs-lookup"><span data-stu-id="50cf8-254">Mikael configures **Data Execution Prevention (DEP)** in the **System settings** section to be **Off by default**.</span></span>
>
>    <span data-ttu-id="50cf8-255">Mikael 然後將 app *test.exe* 新增至 [ **程式設定** ] 區段。</span><span class="sxs-lookup"><span data-stu-id="50cf8-255">Mikael then adds the app *test.exe* to the **Program settings** section.</span></span> <span data-ttu-id="50cf8-256">在該應用程式的選項中，在 [ **資料執行防護 (DEP)**] 底下，啟用 [覆 **寫系統設定** ] 選項，並將開關設定為 [ **開啟**]。</span><span class="sxs-lookup"><span data-stu-id="50cf8-256">In the options for that app, under **Data Execution Prevention (DEP)**, he enables the **Override system settings** option and sets the switch to **On**.</span></span> <span data-ttu-id="50cf8-257">[ **程式設定** ] 區段中沒有列出任何其他應用程式。</span><span class="sxs-lookup"><span data-stu-id="50cf8-257">There are no other apps listed in the **Program settings** section.</span></span>
>
>    <span data-ttu-id="50cf8-258">結果會是，只會對 *test.exe* 啟用 DEP。</span><span class="sxs-lookup"><span data-stu-id="50cf8-258">The result will be that DEP only will be enabled for *test.exe*.</span></span> <span data-ttu-id="50cf8-259">所有其他應用程式都不會套用 DEP。</span><span class="sxs-lookup"><span data-stu-id="50cf8-259">All other apps will not have DEP applied.</span></span>
>
>
> * <span data-ttu-id="50cf8-260">**範例 2**</span><span class="sxs-lookup"><span data-stu-id="50cf8-260">**Example 2**</span></span>
>
>    <span data-ttu-id="50cf8-261">Josie 會在 [**系統設定**] 區段中設定 **資料執行防護 (DEP)** **預設為關閉**。</span><span class="sxs-lookup"><span data-stu-id="50cf8-261">Josie configures **Data Execution Prevention (DEP)** in the **System settings** section to be **Off by default**.</span></span>
>
>    <span data-ttu-id="50cf8-262">Josie 然後將 app *test.exe* 新增至 [ **程式設定** ] 區段。</span><span class="sxs-lookup"><span data-stu-id="50cf8-262">Josie then adds the app *test.exe* to the **Program settings** section.</span></span> <span data-ttu-id="50cf8-263">在該應用程式的選項中，在 [ **資料執行防護 (DEP)**] 底下，啟用 [覆 **寫系統設定** ] 選項，並將開關設定為 [ **開啟**]。</span><span class="sxs-lookup"><span data-stu-id="50cf8-263">In the options for that app, under **Data Execution Prevention (DEP)**, she enables the **Override system settings** option and sets the switch to **On**.</span></span>
>
>    <span data-ttu-id="50cf8-264">Josie 也會將應用程式 *miles.exe* 新增至 [ **程式設定** ] 區段，並將 **控制流程防護 (CFG)** 設定為 [ **開啟**]。</span><span class="sxs-lookup"><span data-stu-id="50cf8-264">Josie also adds the app *miles.exe* to the **Program settings** section and configures **Control flow guard (CFG)** to **On**.</span></span> <span data-ttu-id="50cf8-265">她沒有為該應用程式啟用 DEP 或任何其他緩解措施的覆 **寫系統設定** 選項。</span><span class="sxs-lookup"><span data-stu-id="50cf8-265">She doesn't enable the **Override system settings** option for DEP or any other mitigations for that app.</span></span>
>
>    <span data-ttu-id="50cf8-266">其結果將會啟用 *test.exe* 的 DEP。</span><span class="sxs-lookup"><span data-stu-id="50cf8-266">The result will be that DEP will be enabled for *test.exe*.</span></span> <span data-ttu-id="50cf8-267">任何其他應用程式（包括 *miles.exe*）都不會啟用 DEP。</span><span class="sxs-lookup"><span data-stu-id="50cf8-267">DEP will not be enabled for any other app, including *miles.exe*.</span></span> <span data-ttu-id="50cf8-268">將為 *miles.exe* 啟用 CFG。</span><span class="sxs-lookup"><span data-stu-id="50cf8-268">CFG will be enabled for *miles.exe*.</span></span>

> [!NOTE]
> <span data-ttu-id="50cf8-269">如果您已發現本文中的任何問題，您可以直接向 Windows Server/Windows 用戶端合作夥伴報告問題，或為您的國家/地區使用 Microsoft 技術支援號碼。</span><span class="sxs-lookup"><span data-stu-id="50cf8-269">If you have found any issues in this article, you can report it directly to a Windows Server/Windows Client partner or use the Microsoft technical support numbers for your country.</span></span>

### <a name="configure-system-level-mitigations-with-the-windows-security-app"></a><span data-ttu-id="50cf8-270">使用 Windows 安全性應用程式設定系統層級的緩解</span><span class="sxs-lookup"><span data-stu-id="50cf8-270">Configure system-level mitigations with the Windows Security app</span></span>

1. <span data-ttu-id="50cf8-271">選取工作列中的盾牌圖示，或搜尋 **Defender** 的 [開始] 功能表，以開啟 [Windows 安全性] 應用程式。</span><span class="sxs-lookup"><span data-stu-id="50cf8-271">Open the Windows Security app by selecting the shield icon in the task bar or searching the start menu for **Defender**.</span></span>

2. <span data-ttu-id="50cf8-272">在左功能表列上選取 [ **app & browser control** (或 app 圖示) 然後選取 [利用方式 **保護**]。</span><span class="sxs-lookup"><span data-stu-id="50cf8-272">Select the **App & browser control** tile (or the app icon on the left menu bar) and then select **Exploit protection**.</span></span>

3. <span data-ttu-id="50cf8-273">在 [ **系統設定** ] 區段下，找出您要設定的緩解措施，然後選取下列其中一項。</span><span class="sxs-lookup"><span data-stu-id="50cf8-273">Under the **System settings** section, find the mitigation you want to configure and select one of the following.</span></span> <span data-ttu-id="50cf8-274">未在 [ **程式設定** ] 區段中個別設定的應用程式，將會使用這裡設定的設定：</span><span class="sxs-lookup"><span data-stu-id="50cf8-274">Apps that aren't configured individually in the **Program settings** section will use the settings configured here:</span></span>
   * <span data-ttu-id="50cf8-275">**依預設，在** 應用程式特有的 **程式設定** 區段中，對於未具備此緩解集的應用程式 *啟用* 緩解功能</span><span class="sxs-lookup"><span data-stu-id="50cf8-275">**On by default** - The mitigation is *enabled* for apps that don't have this mitigation set in the app-specific **Program settings** section</span></span>
   * <span data-ttu-id="50cf8-276">**預設關閉**-應用程式特定的 **程式設定** 區段中未啟用此緩解設定的應用程式會 *停用* 緩解。</span><span class="sxs-lookup"><span data-stu-id="50cf8-276">**Off by default** - The mitigation is *disabled* for apps that don't have this mitigation set in the app-specific **Program settings** section</span></span>
   * <span data-ttu-id="50cf8-277">**使用預設值**-根據 Windows 10 安裝所設定的預設設定，緩解已啟用或已停用;預設值 (開啟或 **關閉**) 會永遠 **在** 每個緩解的 **使用預設** 標籤旁指定</span><span class="sxs-lookup"><span data-stu-id="50cf8-277">**Use default** - The mitigation is either enabled or disabled, depending on the default configuration that is set up by Windows 10 installation; the default value (**On** or **Off**) is always specified next to the **Use default** label for each mitigation</span></span>

   > [!NOTE]
   > <span data-ttu-id="50cf8-278">變更某些設定時，您可能會看到 [使用者帳戶控制] 視窗。</span><span class="sxs-lookup"><span data-stu-id="50cf8-278">You may see a User Account Control window when changing some settings.</span></span> <span data-ttu-id="50cf8-279">輸入管理員認證以套用設定。</span><span class="sxs-lookup"><span data-stu-id="50cf8-279">Enter administrator credentials to apply the setting.</span></span>

   <span data-ttu-id="50cf8-280">變更某些設定可能需要重新開機。</span><span class="sxs-lookup"><span data-stu-id="50cf8-280">Changing some settings may require a restart.</span></span>

4. <span data-ttu-id="50cf8-281">針對您要設定的所有系統層級緩解重複此步驟。</span><span class="sxs-lookup"><span data-stu-id="50cf8-281">Repeat this for all the system-level mitigations you want to configure.</span></span>

5. <span data-ttu-id="50cf8-282">移至 [ **程式設定** ] 區段，然後選擇您要套用緩解的應用程式：</span><span class="sxs-lookup"><span data-stu-id="50cf8-282">Go to the **Program settings** section and choose the app you want to apply mitigations to:</span></span>

   1. <span data-ttu-id="50cf8-283">如果您想要設定的應用程式已經列出，請選取它，然後選取 [**編輯**]</span><span class="sxs-lookup"><span data-stu-id="50cf8-283">If the app you want to configure is already listed, select it and then select **Edit**</span></span>
   2. <span data-ttu-id="50cf8-284">若未列出該應用程式，請在清單頂端選取 [ **新增程式] 以自訂** ，然後選擇您想要新增應用程式的方式：</span><span class="sxs-lookup"><span data-stu-id="50cf8-284">If the app isn't listed, at the top of the list select **Add program to customize** and then choose how you want to add the app:</span></span>
      * <span data-ttu-id="50cf8-285">使用 [ **依程式名稱新增** ]，可對任何執行的程式套用具有該名稱的緩解。</span><span class="sxs-lookup"><span data-stu-id="50cf8-285">Use **Add by program name** to have the mitigation applied to any running process with that name.</span></span> <span data-ttu-id="50cf8-286">您必須指定副檔名為的檔案。</span><span class="sxs-lookup"><span data-stu-id="50cf8-286">You must specify a file with an extension.</span></span> <span data-ttu-id="50cf8-287">您可以輸入完整的路徑，以限制僅限此位置的應用程式的緩解。</span><span class="sxs-lookup"><span data-stu-id="50cf8-287">You can enter a full path to limit the mitigation to only the app with that name in that location.</span></span>
      * <span data-ttu-id="50cf8-288">使用 **[選擇確切** 的檔案路徑]，使用標準 Windows Explorer 檔案選擇器視窗來尋找並選取您想要的檔。</span><span class="sxs-lookup"><span data-stu-id="50cf8-288">Use **Choose exact file path** to use a standard Windows Explorer file picker window to find and select the file you want.</span></span>

6. <span data-ttu-id="50cf8-289">選取應用程式之後，您會看到可套用的所有緩解措施清單。</span><span class="sxs-lookup"><span data-stu-id="50cf8-289">After selecting the app, you'll see a list of all the mitigations that can be applied.</span></span> <span data-ttu-id="50cf8-290">若要啟用緩解，請選取核取方塊，然後將滑杆變更為 [ **開啟**]。</span><span class="sxs-lookup"><span data-stu-id="50cf8-290">To enable the mitigation, select the check box and then change the slider to **On**.</span></span> <span data-ttu-id="50cf8-291">選取任何其他選項。</span><span class="sxs-lookup"><span data-stu-id="50cf8-291">Select any additional options.</span></span> <span data-ttu-id="50cf8-292">選擇 [ **審計** ] 只會在審計模式中套用緩解。</span><span class="sxs-lookup"><span data-stu-id="50cf8-292">Choosing **Audit** will apply the mitigation in audit mode only.</span></span> <span data-ttu-id="50cf8-293">如果您需要重新開機此程式或應用程式，或需要重新開機 Windows，您將會收到通知。</span><span class="sxs-lookup"><span data-stu-id="50cf8-293">You will be notified if you need to restart the process or app, or if you need to restart Windows.</span></span>

7. <span data-ttu-id="50cf8-294">針對您要設定的所有應用程式和緩解措施，重複這些步驟。</span><span class="sxs-lookup"><span data-stu-id="50cf8-294">Repeat these steps for all the apps and mitigations you want to configure.</span></span> <span data-ttu-id="50cf8-295">當您設定好 **設定後，** 請選取 [套用]。</span><span class="sxs-lookup"><span data-stu-id="50cf8-295">Select **Apply** when you're done setting up your configuration.</span></span>

<span data-ttu-id="50cf8-296">您現在可以將 [這些設定匯出為 XML](import-export-exploit-protection-emet-xml.md) 檔案，或繼續設定應用程式特定的緩解。</span><span class="sxs-lookup"><span data-stu-id="50cf8-296">You can now [export these settings as an XML file](import-export-exploit-protection-emet-xml.md) or continue on to configure app-specific mitigations.</span></span>

<span data-ttu-id="50cf8-297">將設定匯出為 XML 檔案，可讓您將設定從一部裝置複製到其他裝置。</span><span class="sxs-lookup"><span data-stu-id="50cf8-297">Exporting the configuration as an XML file allows you to copy the configuration from one device onto other devices.</span></span>

## <a name="powershell-reference"></a><span data-ttu-id="50cf8-298">PowerShell 參照</span><span class="sxs-lookup"><span data-stu-id="50cf8-298">PowerShell reference</span></span>

<span data-ttu-id="50cf8-299">您可以使用 Windows 安全性應用程式來設定 Exploit protection，也可以使用 PowerShell Cmdlet。</span><span class="sxs-lookup"><span data-stu-id="50cf8-299">You can use the Windows Security app to configure Exploit protection, or you can use PowerShell cmdlets.</span></span>

<span data-ttu-id="50cf8-300">不論您使用 PowerShell 還是 Windows 安全性，都必須套用最近修改的設定設定。</span><span class="sxs-lookup"><span data-stu-id="50cf8-300">The configuration settings that were most recently modified will always be applied - regardless of whether you use PowerShell or Windows Security.</span></span> <span data-ttu-id="50cf8-301">這表示如果您使用此應用程式來設定緩解，然後使用 PowerShell 設定相同的緩解，應用程式會更新以顯示您使用 PowerShell 所做的變更。</span><span class="sxs-lookup"><span data-stu-id="50cf8-301">This means that if you use the app to configure a mitigation, then use PowerShell to configure the same mitigation, the app will update to show the changes you made with PowerShell.</span></span> <span data-ttu-id="50cf8-302">如果您想要再次使用此應用程式變更緩解，將會套用該變更。</span><span class="sxs-lookup"><span data-stu-id="50cf8-302">If you were to then use the app to change the mitigation again, that change would apply.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="50cf8-303">透過「群組原則」部署至裝置的任何變更，都將會覆寫本機設定。</span><span class="sxs-lookup"><span data-stu-id="50cf8-303">Any changes that are deployed to a device through Group Policy will override the local configuration.</span></span> <span data-ttu-id="50cf8-304">設定初始設定時，請使用未套用群組原則設定的裝置，以確保您的變更不會覆寫。</span><span class="sxs-lookup"><span data-stu-id="50cf8-304">When setting up an initial configuration, use a device that will not have a Group Policy configuration applied to ensure your changes aren't overridden.</span></span>

<span data-ttu-id="50cf8-305">您可以使用 PowerShell 動詞 `Get` 或 `Set` Cmdlet `ProcessMitigation` 。</span><span class="sxs-lookup"><span data-stu-id="50cf8-305">You can use the PowerShell verb `Get` or `Set` with the cmdlet `ProcessMitigation`.</span></span> <span data-ttu-id="50cf8-306">使用 `Get` 會列出已在裝置上啟用之任何緩解作業的目前設定狀態-新增 `-Name` Cmdlet 和應用程式 exe，以查看僅適用于該應用程式的緩解：</span><span class="sxs-lookup"><span data-stu-id="50cf8-306">Using `Get` will list the current configuration status of any mitigations that have been enabled on the device - add the `-Name` cmdlet and app exe to see mitigations for just that app:</span></span>

```PowerShell
Get-ProcessMitigation -Name processName.exe
```

> [!IMPORTANT]
> <span data-ttu-id="50cf8-307">尚未設定的系統層級緩解措施會顯示狀態 `NOTSET` 。</span><span class="sxs-lookup"><span data-stu-id="50cf8-307">System-level mitigations that have not been configured will show a status of `NOTSET`.</span></span>
>
> <span data-ttu-id="50cf8-308">針對系統層級設定，表示已套用此 `NOTSET` 緩解的預設設定。</span><span class="sxs-lookup"><span data-stu-id="50cf8-308">For system-level settings, `NOTSET` indicates the default setting for that mitigation has been applied.</span></span>
>
> <span data-ttu-id="50cf8-309">針對應用層級設定， `NOTSET` 表示將會套用緩解的系統層級設定。</span><span class="sxs-lookup"><span data-stu-id="50cf8-309">For app-level settings, `NOTSET` indicates the system-level setting for the mitigation will be applied.</span></span>
>
> <span data-ttu-id="50cf8-310">Windows 安全性會顯示每個系統層級緩解的預設設定。</span><span class="sxs-lookup"><span data-stu-id="50cf8-310">The default setting for each system-level mitigation can be seen in the Windows Security.</span></span>

<span data-ttu-id="50cf8-311">使用 `Set` 以下列格式設定每項緩解措施：</span><span class="sxs-lookup"><span data-stu-id="50cf8-311">Use `Set` to configure each mitigation in the following format:</span></span>

```PowerShell
Set-ProcessMitigation -<scope> <app executable> -<action> <mitigation or options>,<mitigation or options>,<mitigation or options>
```

<span data-ttu-id="50cf8-312">其中：</span><span class="sxs-lookup"><span data-stu-id="50cf8-312">Where:</span></span>

* <span data-ttu-id="50cf8-313">\<Scope>:</span><span class="sxs-lookup"><span data-stu-id="50cf8-313">\<Scope>:</span></span>
    * <span data-ttu-id="50cf8-314">`-Name` 表示應將緩解措施套用至特定的應用程式。</span><span class="sxs-lookup"><span data-stu-id="50cf8-314">`-Name` to indicate the mitigations should be applied to a specific app.</span></span> <span data-ttu-id="50cf8-315">指定此旗標之後的應用程式可執行檔。</span><span class="sxs-lookup"><span data-stu-id="50cf8-315">Specify the app's executable after this flag.</span></span>
    * <span data-ttu-id="50cf8-316">`-System` 若要指出應該在系統層級套用緩解</span><span class="sxs-lookup"><span data-stu-id="50cf8-316">`-System` to indicate the mitigation should be applied at the system level</span></span>
- <span data-ttu-id="50cf8-317">\<Action>:</span><span class="sxs-lookup"><span data-stu-id="50cf8-317">\<Action>:</span></span>
    * <span data-ttu-id="50cf8-318">`-Enable` 啟用緩解</span><span class="sxs-lookup"><span data-stu-id="50cf8-318">`-Enable` to enable the mitigation</span></span>
    * <span data-ttu-id="50cf8-319">`-Disable` 停用緩解</span><span class="sxs-lookup"><span data-stu-id="50cf8-319">`-Disable` to disable the mitigation</span></span>
* <span data-ttu-id="50cf8-320">\<Mitigation>:</span><span class="sxs-lookup"><span data-stu-id="50cf8-320">\<Mitigation>:</span></span>
    * <span data-ttu-id="50cf8-321">在下一個 [緩解指令程式] [表格](#cmdlets-table) 中所定義的緩解的指令程式，以及任何 suboptions (以空格括住) 。</span><span class="sxs-lookup"><span data-stu-id="50cf8-321">The mitigation's cmdlet as defined in the [mitigation cmdlets table](#cmdlets-table) below, along with any suboptions (surrounded with spaces).</span></span> <span data-ttu-id="50cf8-322">每個緩解都是以逗號分隔。</span><span class="sxs-lookup"><span data-stu-id="50cf8-322">Each mitigation is separated with a comma.</span></span>

<span data-ttu-id="50cf8-323">例如，若要啟用資料執行防護 (DEP) 以 ATL Thunk 模擬進行緩解，並針對資料夾 *C:\Apps\LOB\tests* 中稱為 *testing.exe* 的可執行檔加以緩解，並防止該可執行檔建立子進程，您可以使用下列命令：</span><span class="sxs-lookup"><span data-stu-id="50cf8-323">For example, to enable the Data Execution Prevention (DEP) mitigation with ATL thunk emulation and for an executable called *testing.exe* in the folder *C:\Apps\LOB\tests*, and to prevent that executable from creating child processes, you'd use the following command:</span></span>

```PowerShell
Set-ProcessMitigation -Name c:\apps\lob\tests\testing.exe -Enable DEP, EmulateAtlThunks, DisallowChildProcessCreation
```

> [!IMPORTANT]
> <span data-ttu-id="50cf8-324">以逗號分隔每個緩解選項。</span><span class="sxs-lookup"><span data-stu-id="50cf8-324">Separate each mitigation option with commas.</span></span>

<span data-ttu-id="50cf8-325">如果您想要在系統層級應用 DEP，請使用下列命令：</span><span class="sxs-lookup"><span data-stu-id="50cf8-325">If you wanted to apply DEP at the system level, you'd use the following command:</span></span>

```PowerShell
Set-Processmitigation -System -Enable DEP
```

<span data-ttu-id="50cf8-326">若要停用緩解，您可以取代 `-Enable` `-Disable` 。</span><span class="sxs-lookup"><span data-stu-id="50cf8-326">To disable mitigations, you can replace `-Enable` with `-Disable`.</span></span> <span data-ttu-id="50cf8-327">不過，對於應用層級的緩解，這只會對該應用程式強制停用緩解。</span><span class="sxs-lookup"><span data-stu-id="50cf8-327">However, for app-level mitigations, this will force the mitigation to be disabled only for that app.</span></span>

<span data-ttu-id="50cf8-328">如果您需要將緩解措施還原回系統預設值，您也需要加入 `-Remove` Cmdlet，如下列範例所示：</span><span class="sxs-lookup"><span data-stu-id="50cf8-328">If you need to restore the mitigation back to the system default, you need to include the `-Remove` cmdlet as well, as in the following example:</span></span>

```PowerShell
Set-Processmitigation -Name test.exe -Remove -Disable DEP
```

<span data-ttu-id="50cf8-329">您也可以將部分遷移設定為稽核模式。</span><span class="sxs-lookup"><span data-stu-id="50cf8-329">You can also set some mitigations to audit mode.</span></span> <span data-ttu-id="50cf8-330">請使用下列 [緩解指令程式][表格](#cmdlets-table)中所指定的「**審計模式** Cmdlet」，而不是使用 PowerShell Cmdlet 進行緩解。</span><span class="sxs-lookup"><span data-stu-id="50cf8-330">Instead of using the PowerShell cmdlet for the mitigation, use the **Audit mode** cmdlet as specified in the [mitigation cmdlets table](#cmdlets-table) below.</span></span>

<span data-ttu-id="50cf8-331">例如，若要為先前使用的 *testing.exe* 啟用 [任意代碼保護 (ACG) ，請使用下列命令：</span><span class="sxs-lookup"><span data-stu-id="50cf8-331">For example, to enable Arbitrary Code Guard (ACG) in audit mode for the *testing.exe* used previously, you'd use the following command:</span></span>

```PowerShell
Set-ProcessMitigation -Name c:\apps\lob\tests\testing.exe -Enable AuditDynamicCode
```

<span data-ttu-id="50cf8-332">您可以使用同一個命令取代 `-Enable` ，以停用稽核模式 `-Disable` 。</span><span class="sxs-lookup"><span data-stu-id="50cf8-332">You can disable audit mode by using the same command but replacing `-Enable` with `-Disable`.</span></span>

### <a name="powershell-reference-table"></a><span data-ttu-id="50cf8-333">PowerShell 參照表格</span><span class="sxs-lookup"><span data-stu-id="50cf8-333">PowerShell reference table</span></span>

<span data-ttu-id="50cf8-334">下表列出 PowerShell Cmdlet (和相關聯的審計模式 Cmdlet) 可用於設定每項緩解。</span><span class="sxs-lookup"><span data-stu-id="50cf8-334">This table lists the PowerShell cmdlets (and associated audit mode cmdlet) that can be used to configure each mitigation.</span></span>

<a id="cmdlets-table"></a>

| <span data-ttu-id="50cf8-335">風險降低</span><span class="sxs-lookup"><span data-stu-id="50cf8-335">Mitigation</span></span> | <span data-ttu-id="50cf8-336">適用於</span><span class="sxs-lookup"><span data-stu-id="50cf8-336">Applies to</span></span> | <span data-ttu-id="50cf8-337">PowerShell Cmdlet</span><span class="sxs-lookup"><span data-stu-id="50cf8-337">PowerShell cmdlets</span></span> | <span data-ttu-id="50cf8-338">稽核模式 Cmdlet</span><span class="sxs-lookup"><span data-stu-id="50cf8-338">Audit mode cmdlet</span></span> |
| ---------- | ---------- | ------------------ | ----------------- |
| <span data-ttu-id="50cf8-339">控制流量防護 (CFG) </span><span class="sxs-lookup"><span data-stu-id="50cf8-339">Control flow guard (CFG)</span></span> | <span data-ttu-id="50cf8-340">系統和應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-340">System and app-level</span></span> |   <span data-ttu-id="50cf8-341">CFG、StrictCFG、SuppressExports</span><span class="sxs-lookup"><span data-stu-id="50cf8-341">CFG,   StrictCFG,   SuppressExports</span></span>  | <span data-ttu-id="50cf8-342">無法使用審計</span><span class="sxs-lookup"><span data-stu-id="50cf8-342">Audit not available</span></span> |
| <span data-ttu-id="50cf8-343">資料執行防護 (DEP) </span><span class="sxs-lookup"><span data-stu-id="50cf8-343">Data Execution Prevention (DEP)</span></span> | <span data-ttu-id="50cf8-344">系統和應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-344">System and app-level</span></span> |   <span data-ttu-id="50cf8-345">DEP，EmulateAtlThunks</span><span class="sxs-lookup"><span data-stu-id="50cf8-345">DEP,   EmulateAtlThunks</span></span>  | <span data-ttu-id="50cf8-346">無法使用審計</span><span class="sxs-lookup"><span data-stu-id="50cf8-346">Audit not available</span></span> |
| <span data-ttu-id="50cf8-347"> (強制的 ASLR 中強制執行影像的隨機化) </span><span class="sxs-lookup"><span data-stu-id="50cf8-347">Force randomization for images (Mandatory ASLR)</span></span> | <span data-ttu-id="50cf8-348">系統和應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-348">System and app-level</span></span> |   <span data-ttu-id="50cf8-349">ForceRelocateImages</span><span class="sxs-lookup"><span data-stu-id="50cf8-349">ForceRelocateImages</span></span>  | <span data-ttu-id="50cf8-350">無法使用審計</span><span class="sxs-lookup"><span data-stu-id="50cf8-350">Audit not available</span></span> |
| <span data-ttu-id="50cf8-351">在 (自下而上的 ASLR) 隨機化記憶體分配</span><span class="sxs-lookup"><span data-stu-id="50cf8-351">Randomize memory allocations (Bottom-Up ASLR)</span></span> | <span data-ttu-id="50cf8-352">系統和應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-352">System and app-level</span></span> |   <span data-ttu-id="50cf8-353">BottomUp, HighEntropy</span><span class="sxs-lookup"><span data-stu-id="50cf8-353">BottomUp,   HighEntropy</span></span>  | <span data-ttu-id="50cf8-354">無法使用審計</span><span class="sxs-lookup"><span data-stu-id="50cf8-354">Audit not available</span></span> |
| <span data-ttu-id="50cf8-355">驗證例外鏈 (SEHOP) </span><span class="sxs-lookup"><span data-stu-id="50cf8-355">Validate exception chains (SEHOP)</span></span> | <span data-ttu-id="50cf8-356">系統和應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-356">System and app-level</span></span> |   <span data-ttu-id="50cf8-357">SEHOP, SEHOPTelemetry</span><span class="sxs-lookup"><span data-stu-id="50cf8-357">SEHOP,   SEHOPTelemetry</span></span>  | <span data-ttu-id="50cf8-358">無法使用審計</span><span class="sxs-lookup"><span data-stu-id="50cf8-358">Audit not available</span></span> |
| <span data-ttu-id="50cf8-359">驗證堆完整性</span><span class="sxs-lookup"><span data-stu-id="50cf8-359">Validate heap integrity</span></span> | <span data-ttu-id="50cf8-360">系統和應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-360">System and app-level</span></span> |   <span data-ttu-id="50cf8-361">TerminateOnError</span><span class="sxs-lookup"><span data-stu-id="50cf8-361">TerminateOnError</span></span>  | <span data-ttu-id="50cf8-362">無法使用審計</span><span class="sxs-lookup"><span data-stu-id="50cf8-362">Audit not available</span></span> |
| <span data-ttu-id="50cf8-363">任意代碼防護 (ACG) </span><span class="sxs-lookup"><span data-stu-id="50cf8-363">Arbitrary code guard (ACG)</span></span> | <span data-ttu-id="50cf8-364">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-364">App-level only</span></span> |   <span data-ttu-id="50cf8-365">DynamicCode</span><span class="sxs-lookup"><span data-stu-id="50cf8-365">DynamicCode</span></span>  |   <span data-ttu-id="50cf8-366">AuditDynamicCode</span><span class="sxs-lookup"><span data-stu-id="50cf8-366">AuditDynamicCode</span></span> |
| <span data-ttu-id="50cf8-367">封鎖低誠信影像</span><span class="sxs-lookup"><span data-stu-id="50cf8-367">Block low integrity images</span></span> | <span data-ttu-id="50cf8-368">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-368">App-level only</span></span> |   <span data-ttu-id="50cf8-369">BlockLowLabel</span><span class="sxs-lookup"><span data-stu-id="50cf8-369">BlockLowLabel</span></span>  |   <span data-ttu-id="50cf8-370">AuditImageLoad</span><span class="sxs-lookup"><span data-stu-id="50cf8-370">AuditImageLoad</span></span> |
| <span data-ttu-id="50cf8-371">封鎖遠端映射</span><span class="sxs-lookup"><span data-stu-id="50cf8-371">Block remote images</span></span> | <span data-ttu-id="50cf8-372">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-372">App-level only</span></span> |   <span data-ttu-id="50cf8-373">BlockRemoteImages</span><span class="sxs-lookup"><span data-stu-id="50cf8-373">BlockRemoteImages</span></span>  | <span data-ttu-id="50cf8-374">無法使用審計</span><span class="sxs-lookup"><span data-stu-id="50cf8-374">Audit not available</span></span> |
| <span data-ttu-id="50cf8-375">封鎖不受信任的字體</span><span class="sxs-lookup"><span data-stu-id="50cf8-375">Block untrusted fonts</span></span> | <span data-ttu-id="50cf8-376">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-376">App-level only</span></span> |   <span data-ttu-id="50cf8-377">DisableNonSystemFonts</span><span class="sxs-lookup"><span data-stu-id="50cf8-377">DisableNonSystemFonts</span></span>  |   <span data-ttu-id="50cf8-378">AuditFont, FontAuditOnly</span><span class="sxs-lookup"><span data-stu-id="50cf8-378">AuditFont,   FontAuditOnly</span></span> |
| <span data-ttu-id="50cf8-379">程式碼整體性防護</span><span class="sxs-lookup"><span data-stu-id="50cf8-379">Code integrity guard</span></span> | <span data-ttu-id="50cf8-380">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-380">App-level only</span></span> |   <span data-ttu-id="50cf8-381">BlockNonMicrosoftSigned, AllowStoreSigned</span><span class="sxs-lookup"><span data-stu-id="50cf8-381">BlockNonMicrosoftSigned,   AllowStoreSigned</span></span>  |   <span data-ttu-id="50cf8-382">AuditMicrosoftSigned, AuditStoreSigned</span><span class="sxs-lookup"><span data-stu-id="50cf8-382">AuditMicrosoftSigned,   AuditStoreSigned</span></span> |
| <span data-ttu-id="50cf8-383">停用分機點</span><span class="sxs-lookup"><span data-stu-id="50cf8-383">Disable extension points</span></span> | <span data-ttu-id="50cf8-384">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-384">App-level only</span></span> |   <span data-ttu-id="50cf8-385">ExtensionPoint</span><span class="sxs-lookup"><span data-stu-id="50cf8-385">ExtensionPoint</span></span>  | <span data-ttu-id="50cf8-386">無法使用審計</span><span class="sxs-lookup"><span data-stu-id="50cf8-386">Audit not available</span></span> |
| <span data-ttu-id="50cf8-387">停用 Win32k 系統通話</span><span class="sxs-lookup"><span data-stu-id="50cf8-387">Disable Win32k system calls</span></span> | <span data-ttu-id="50cf8-388">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-388">App-level only</span></span> |   <span data-ttu-id="50cf8-389">DisableWin32kSystemCalls</span><span class="sxs-lookup"><span data-stu-id="50cf8-389">DisableWin32kSystemCalls</span></span>  |   <span data-ttu-id="50cf8-390">AuditSystemCall</span><span class="sxs-lookup"><span data-stu-id="50cf8-390">AuditSystemCall</span></span> |
| <span data-ttu-id="50cf8-391">不允許子流程</span><span class="sxs-lookup"><span data-stu-id="50cf8-391">Do not allow child processes</span></span> | <span data-ttu-id="50cf8-392">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-392">App-level only</span></span> |   <span data-ttu-id="50cf8-393">DisallowChildProcessCreation</span><span class="sxs-lookup"><span data-stu-id="50cf8-393">DisallowChildProcessCreation</span></span>  |   <span data-ttu-id="50cf8-394">AuditChildProcess</span><span class="sxs-lookup"><span data-stu-id="50cf8-394">AuditChildProcess</span></span> |
| <span data-ttu-id="50cf8-395">匯出位址篩選 (EAF) </span><span class="sxs-lookup"><span data-stu-id="50cf8-395">Export address filtering (EAF)</span></span> | <span data-ttu-id="50cf8-396">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-396">App-level only</span></span> |   <span data-ttu-id="50cf8-397">EnableExportAddressFilterPlus，EnableExportAddressFilter <a href="#r1" id="t1"> \[ 1 \] </a></span><span class="sxs-lookup"><span data-stu-id="50cf8-397">EnableExportAddressFilterPlus,   EnableExportAddressFilter  <a href="#r1" id="t1">\[1\]</a></span></span> | <span data-ttu-id="50cf8-398">無法使用審核<a href="#r2" id="t2"> \[ 2 \] </a></span><span class="sxs-lookup"><span data-stu-id="50cf8-398">Audit not available<a href="#r2" id="t2">\[2\]</a></span></span> |
| <span data-ttu-id="50cf8-399">匯入位址篩選 (IAF) </span><span class="sxs-lookup"><span data-stu-id="50cf8-399">Import address filtering (IAF)</span></span> | <span data-ttu-id="50cf8-400">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-400">App-level only</span></span> |   <span data-ttu-id="50cf8-401">EnableImportAddressFilter</span><span class="sxs-lookup"><span data-stu-id="50cf8-401">EnableImportAddressFilter</span></span>  | <span data-ttu-id="50cf8-402">無法使用審核<a href="#r2" id="t2"> \[ 2 \] </a></span><span class="sxs-lookup"><span data-stu-id="50cf8-402">Audit not available<a href="#r2" id="t2">\[2\]</a></span></span> |
| <span data-ttu-id="50cf8-403">模擬執行 (SimExec) </span><span class="sxs-lookup"><span data-stu-id="50cf8-403">Simulate execution (SimExec)</span></span> | <span data-ttu-id="50cf8-404">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-404">App-level only</span></span> |   <span data-ttu-id="50cf8-405">EnableRopSimExec</span><span class="sxs-lookup"><span data-stu-id="50cf8-405">EnableRopSimExec</span></span>  | <span data-ttu-id="50cf8-406">無法使用審核<a href="#r2" id="t2"> \[ 2 \] </a></span><span class="sxs-lookup"><span data-stu-id="50cf8-406">Audit not available<a href="#r2" id="t2">\[2\]</a></span></span> |
| <span data-ttu-id="50cf8-407">驗證 API 呼叫 (CallerCheck) </span><span class="sxs-lookup"><span data-stu-id="50cf8-407">Validate API invocation (CallerCheck)</span></span> | <span data-ttu-id="50cf8-408">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-408">App-level only</span></span> |   <span data-ttu-id="50cf8-409">EnableRopCallerCheck</span><span class="sxs-lookup"><span data-stu-id="50cf8-409">EnableRopCallerCheck</span></span>  | <span data-ttu-id="50cf8-410">無法使用審核<a href="#r2" id="t2"> \[ 2 \] </a></span><span class="sxs-lookup"><span data-stu-id="50cf8-410">Audit not available<a href="#r2" id="t2">\[2\]</a></span></span> |
| <span data-ttu-id="50cf8-411">驗證控制碼使用狀況</span><span class="sxs-lookup"><span data-stu-id="50cf8-411">Validate handle usage</span></span> | <span data-ttu-id="50cf8-412">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-412">App-level only</span></span> |   <span data-ttu-id="50cf8-413">StrictHandle</span><span class="sxs-lookup"><span data-stu-id="50cf8-413">StrictHandle</span></span>  | <span data-ttu-id="50cf8-414">無法使用審計</span><span class="sxs-lookup"><span data-stu-id="50cf8-414">Audit not available</span></span> |
| <span data-ttu-id="50cf8-415">驗證映射相依性完整性</span><span class="sxs-lookup"><span data-stu-id="50cf8-415">Validate image dependency integrity</span></span> | <span data-ttu-id="50cf8-416">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-416">App-level only</span></span> |   <span data-ttu-id="50cf8-417">EnforceModuleDepencySigning</span><span class="sxs-lookup"><span data-stu-id="50cf8-417">EnforceModuleDepencySigning</span></span>  | <span data-ttu-id="50cf8-418">無法使用審計</span><span class="sxs-lookup"><span data-stu-id="50cf8-418">Audit not available</span></span> |
| <span data-ttu-id="50cf8-419">驗證堆疊整體性 (StackPivot) </span><span class="sxs-lookup"><span data-stu-id="50cf8-419">Validate stack integrity (StackPivot)</span></span> | <span data-ttu-id="50cf8-420">僅限應用層級</span><span class="sxs-lookup"><span data-stu-id="50cf8-420">App-level only</span></span> |   <span data-ttu-id="50cf8-421">EnableRopStackPivot</span><span class="sxs-lookup"><span data-stu-id="50cf8-421">EnableRopStackPivot</span></span>  | <span data-ttu-id="50cf8-422">無法使用審核<a href="#r2" id="t2"> \[ 2 \] </a></span><span class="sxs-lookup"><span data-stu-id="50cf8-422">Audit not available<a href="#r2" id="t2">\[2\]</a></span></span> |

<span data-ttu-id="50cf8-423"><a href="#t1" id="r1"> \[ 1 \] </a>：使用下列格式為處理常式啟用 dll 的 EAF 模組：</span><span class="sxs-lookup"><span data-stu-id="50cf8-423"><a href="#t1" id="r1">\[1\]</a>: Use the following format to enable EAF modules for dlls for a process:</span></span>

```PowerShell
Set-ProcessMitigation -Name processName.exe -Enable EnableExportAddressFilterPlus -EAFModules dllName1.dll,dllName2.dll
```

<span data-ttu-id="50cf8-424"><a href="#t2" id="r2"> \[ 2 \] </a>：無法透過 PowerShell Cmdlet 取得此緩解措施的審計。</span><span class="sxs-lookup"><span data-stu-id="50cf8-424"><a href="#t2" id="r2">\[2\]</a>: Audit for this mitigation is not available via PowerShell cmdlets.</span></span>

## <a name="customize-the-notification"></a><span data-ttu-id="50cf8-425">自訂通知</span><span class="sxs-lookup"><span data-stu-id="50cf8-425">Customize the notification</span></span>

<span data-ttu-id="50cf8-426">如需在觸發規則時自訂通知並封鎖應用程式或檔案的詳細資訊，請參閱 [Windows 安全性](https://docs.microsoft.com/windows/security/threat-protection/windows-defender-security-center/windows-defender-security-center#customize-notifications-from-the-windows-defender-security-center)。</span><span class="sxs-lookup"><span data-stu-id="50cf8-426">For more information about customizing the notification when a rule is triggered and blocks an app or file, see [Windows Security](https://docs.microsoft.com/windows/security/threat-protection/windows-defender-security-center/windows-defender-security-center#customize-notifications-from-the-windows-defender-security-center).</span></span>

## <a name="see-also"></a><span data-ttu-id="50cf8-427">另請參閱：</span><span class="sxs-lookup"><span data-stu-id="50cf8-427">See also:</span></span>

* [<span data-ttu-id="50cf8-428">保護裝置免受攻擊</span><span class="sxs-lookup"><span data-stu-id="50cf8-428">Protect devices from exploits</span></span>](exploit-protection.md)
* [<span data-ttu-id="50cf8-429">評估 exploit protection</span><span class="sxs-lookup"><span data-stu-id="50cf8-429">Evaluate exploit protection</span></span>](evaluate-exploit-protection.md)
* [<span data-ttu-id="50cf8-430">啟用 exploit protection</span><span class="sxs-lookup"><span data-stu-id="50cf8-430">Enable exploit protection</span></span>](enable-exploit-protection.md)
* [<span data-ttu-id="50cf8-431">匯入、匯出及部署 exploit protection 設定</span><span class="sxs-lookup"><span data-stu-id="50cf8-431">Import, export, and deploy exploit protection configurations</span></span>](import-export-exploit-protection-emet-xml.md)
