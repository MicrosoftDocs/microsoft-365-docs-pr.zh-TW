---
title: '攻擊面減少常見問題解答 (常見問題) '
description: 尋找有關 Microsoft Defender for Endpoint 的攻擊面降低規則的常見問題答案。
keywords: 攻擊面減少規則，asr，hips，主機入侵防護系統，保護規則，反侵入，antiexploit，exploit，感染防護，microsoft defender for endpoint
search.product: eADQiWindows 10XVcnh
ms.pagetype: security
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
localization_priority: Normal
audience: ITPro
author: martyav
ms.author: v-maave
ms.reviewer: ''
manager: dansimp
ms.custom: asr
ms.topic: article
ms.technology: mde
ms.openlocfilehash: 56d4ac95ab49310cc5fc74168158672e7a0d65d1
ms.sourcegitcommit: 4fb1226d5875bf5b9b29252596855a6562cea9ae
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/08/2021
ms.locfileid: "52843219"
---
# <a name="attack-surface-reduction-frequently-asked-questions-faq"></a><span data-ttu-id="a001b-104">攻擊面減少常見問題解答 (常見問題) </span><span class="sxs-lookup"><span data-stu-id="a001b-104">Attack surface reduction frequently asked questions (FAQ)</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]

<span data-ttu-id="a001b-105">**適用於：**</span><span class="sxs-lookup"><span data-stu-id="a001b-105">**Applies to:**</span></span>
- [<span data-ttu-id="a001b-106">適用於端點的 Microsoft Defender</span><span class="sxs-lookup"><span data-stu-id="a001b-106">Microsoft Defender for Endpoint</span></span>](https://go.microsoft.com/fwlink/?linkid=2154037)
- [<span data-ttu-id="a001b-107">Microsoft 365 Defender</span><span class="sxs-lookup"><span data-stu-id="a001b-107">Microsoft 365 Defender</span></span>](https://go.microsoft.com/fwlink/?linkid=2118804)


## <a name="is-attack-surface-reduction-asr-part-of-windows"></a><span data-ttu-id="a001b-108"> (ASR) Windows 的一部分是否減少攻擊面？</span><span class="sxs-lookup"><span data-stu-id="a001b-108">Is attack surface reduction (ASR) part of Windows?</span></span>

<span data-ttu-id="a001b-109">ASR 最初是一項利用漏洞防護功能套件的功能，在 Windows 10 版本1709中已引進 Microsoft Defender 防毒軟體的主要更新。</span><span class="sxs-lookup"><span data-stu-id="a001b-109">ASR was originally a feature of the suite of exploit guard features introduced as a major update to Microsoft Defender Antivirus, in Windows 10, version 1709.</span></span> <span data-ttu-id="a001b-110">Microsoft Defender 防毒軟體是 Windows 的原生反惡意軟體元件。</span><span class="sxs-lookup"><span data-stu-id="a001b-110">Microsoft Defender Antivirus is the native antimalware component of Windows.</span></span> <span data-ttu-id="a001b-111">不過，「完整 ASR」功能集只適用于 Windows 企業版授權。</span><span class="sxs-lookup"><span data-stu-id="a001b-111">However, the full ASR feature-set is only available with a Windows enterprise license.</span></span> <span data-ttu-id="a001b-112">另請注意，ASR 規則排除項會與 Microsoft Defender 防毒軟體排除項分開管理。</span><span class="sxs-lookup"><span data-stu-id="a001b-112">Also note that ASR rule exclusions are managed separately from Microsoft Defender Antivirus exclusions.</span></span>

## <a name="do-i-need-to-have-an-enterprise-license-to-run-asr-rules"></a><span data-ttu-id="a001b-113">我需要有企業版授權才能執行 ASR 規則嗎？</span><span class="sxs-lookup"><span data-stu-id="a001b-113">Do I need to have an enterprise license to run ASR rules?</span></span>

<span data-ttu-id="a001b-114">只有在您有 Windows 10 企業版授權時，才支援完整的 ASR 規則和功能集。</span><span class="sxs-lookup"><span data-stu-id="a001b-114">The full set of ASR rules and features is only supported if you have an enterprise license for Windows 10.</span></span> <span data-ttu-id="a001b-115">在沒有企業版授權的情況下，有限的規則數目可以運作。</span><span class="sxs-lookup"><span data-stu-id="a001b-115">A limited number of rules may work without an enterprise license.</span></span> <span data-ttu-id="a001b-116">如果您有 Microsoft 365 商務版，請將 Microsoft Defender 防毒軟體設為主要的安全性解決方案，並透過 PowerShell 啟用規則。</span><span class="sxs-lookup"><span data-stu-id="a001b-116">If you have Microsoft 365 Business, set Microsoft Defender Antivirus as your primary security solution, and enable the rules through PowerShell.</span></span> <span data-ttu-id="a001b-117">未正式支援使用沒有企業版授權的 ASR，而且您將無法使用 ASR 的完整功能。</span><span class="sxs-lookup"><span data-stu-id="a001b-117">Using ASR without an enterprise license isn't officially supported and you won't be able to use the full capabilities of ASR.</span></span>

<span data-ttu-id="a001b-118">若要深入瞭解 Windows 授權，請參閱[Windows 10 授權](https://www.microsoft.com/licensing/product-licensing/windows10?activetab=windows10-pivot:primaryr5)並取得[Windows 10 的大量授權指南](https://download.microsoft.com/download/2/D/1/2D14FE17-66C2-4D4C-AF73-E122930B60F6/Windows-10-Volume-Licensing-Guide.pdf)。</span><span class="sxs-lookup"><span data-stu-id="a001b-118">To learn more about Windows licensing, see [Windows 10 Licensing](https://www.microsoft.com/licensing/product-licensing/windows10?activetab=windows10-pivot:primaryr5) and get the [Volume Licensing guide for Windows 10](https://download.microsoft.com/download/2/D/1/2D14FE17-66C2-4D4C-AF73-E122930B60F6/Windows-10-Volume-Licensing-Guide.pdf).</span></span>

## <a name="is-asr-supported-if-i-have-an-e3-license"></a><span data-ttu-id="a001b-119">如果我有 E3 授權，是否支援 ASR？</span><span class="sxs-lookup"><span data-stu-id="a001b-119">Is ASR supported if I have an E3 license?</span></span>

<span data-ttu-id="a001b-120">是。</span><span class="sxs-lookup"><span data-stu-id="a001b-120">Yes.</span></span> <span data-ttu-id="a001b-121">Windows Enterprise E3 和更新版本支援 ASR。</span><span class="sxs-lookup"><span data-stu-id="a001b-121">ASR is supported for Windows Enterprise E3 and above.</span></span> 

## <a name="which-features-are-supported-with-an-e5-license"></a><span data-ttu-id="a001b-122">E5 授權支援哪些功能？</span><span class="sxs-lookup"><span data-stu-id="a001b-122">Which features are supported with an E5 license?</span></span>

<span data-ttu-id="a001b-123">E5 也支援使用 E3 支援的所有規則。</span><span class="sxs-lookup"><span data-stu-id="a001b-123">All of the rules supported with E3 are also supported with E5.</span></span>

<span data-ttu-id="a001b-124">E5 增加了與 Defender for Endpoint 的整合。</span><span class="sxs-lookup"><span data-stu-id="a001b-124">E5 adds greater integration with Defender for Endpoint.</span></span> <span data-ttu-id="a001b-125">透過 E5，您可以即時查看提醒、微調規則排除、設定 ASR 規則，以及查看附隨報告清單。</span><span class="sxs-lookup"><span data-stu-id="a001b-125">With E5, you can view alerts in real-time, fine-tune rule exclusions, configure ASR rules, and view lists of event reports.</span></span>

## <a name="what-are-the-currently-supported-asr-rules"></a><span data-ttu-id="a001b-126">目前支援的 ASR 規則為何？</span><span class="sxs-lookup"><span data-stu-id="a001b-126">What are the currently supported ASR rules?</span></span>
<span data-ttu-id="a001b-127">ASR 目前支援下列所有規則。</span><span class="sxs-lookup"><span data-stu-id="a001b-127">ASR currently supports all of the rules below.</span></span>

## <a name="what-rules-to-enable-all-or-can-i-turn-on-individual-rules"></a><span data-ttu-id="a001b-128">要啟用哪些規則？</span><span class="sxs-lookup"><span data-stu-id="a001b-128">What rules to enable?</span></span> <span data-ttu-id="a001b-129">全部，還是可以開啟個別規則？</span><span class="sxs-lookup"><span data-stu-id="a001b-129">All, or can I turn on individual rules?</span></span>
<span data-ttu-id="a001b-130">為了協助您找出最適合您環境的功能，建議您在 [稽核模式](audit-windows-defender.md)中啟用 ASR 規則。</span><span class="sxs-lookup"><span data-stu-id="a001b-130">To help you figure out what’s best for your environment, we recommended that you enable ASR rules in [audit mode](audit-windows-defender.md).</span></span> <span data-ttu-id="a001b-131">使用此方法時，您將會決定組織的可能影響。</span><span class="sxs-lookup"><span data-stu-id="a001b-131">With this approach, you’ll determine the possible affect to your organization.</span></span> <span data-ttu-id="a001b-132">例如，您的企業營運應用程式。</span><span class="sxs-lookup"><span data-stu-id="a001b-132">For example, your line-of-business applications.</span></span>

## <a name="how-do-asr-rules-exclusions-work"></a><span data-ttu-id="a001b-133">ASR 規則排除的運作方式？</span><span class="sxs-lookup"><span data-stu-id="a001b-133">How do ASR rules exclusions work?</span></span>
<span data-ttu-id="a001b-134">針對 ASR 規則，如果您新增一個排除，它會影響每個 ASR 規則。</span><span class="sxs-lookup"><span data-stu-id="a001b-134">For ASR rules, if you add one exclusion, it will affect every ASR rule.</span></span>
<span data-ttu-id="a001b-135">下列兩個特定的規則不支援排除：</span><span class="sxs-lookup"><span data-stu-id="a001b-135">The following two specific rules don't support exclusions:</span></span>

|<span data-ttu-id="a001b-136">規則名稱</span><span class="sxs-lookup"><span data-stu-id="a001b-136">Rule name</span></span>|<span data-ttu-id="a001b-137">GUID</span><span class="sxs-lookup"><span data-stu-id="a001b-137">GUID</span></span>|<span data-ttu-id="a001b-138">File & 資料夾排除</span><span class="sxs-lookup"><span data-stu-id="a001b-138">File & folder exclusions</span></span>|
|:--|:--|:--|
|<span data-ttu-id="a001b-139">從啟動下載的可執行內容封鎖 JavaScript 或 VBScript</span><span class="sxs-lookup"><span data-stu-id="a001b-139">Block JavaScript or VBScript from launching downloaded executable content</span></span>|<span data-ttu-id="a001b-140">D3E037E1-3EB8-44C8-A917-57927947596D</span><span class="sxs-lookup"><span data-stu-id="a001b-140">D3E037E1-3EB8-44C8-A917-57927947596D</span></span>|<span data-ttu-id="a001b-141">不支援</span><span class="sxs-lookup"><span data-stu-id="a001b-141">Not supported</span></span>|
|<span data-ttu-id="a001b-142">透過 WMI 事件訂閱封鎖持久性</span><span class="sxs-lookup"><span data-stu-id="a001b-142">Block persistence through WMI event subscription</span></span>|<span data-ttu-id="a001b-143">e6db77e5-3df2-4cf1-b95a-636979351e5b</span><span class="sxs-lookup"><span data-stu-id="a001b-143">e6db77e5-3df2-4cf1-b95a-636979351e5b</span></span>|<span data-ttu-id="a001b-144">不支援</span><span class="sxs-lookup"><span data-stu-id="a001b-144">Not supported</span></span>|

<span data-ttu-id="a001b-145">ASR 規則排除支援萬用字元、路徑及環境變數。</span><span class="sxs-lookup"><span data-stu-id="a001b-145">ASR rules exclusions support wildcards, paths, and environmental variables.</span></span> <span data-ttu-id="a001b-146">如需如何在 ASR 規則中使用萬用字元的詳細資訊，請參閱 [根據副檔名和資料夾位置來設定及驗證排除](/windows/security/threat-protection/microsoft-defender-antivirus/configure-extension-file-exclusions-microsoft-defender-antivirus)。</span><span class="sxs-lookup"><span data-stu-id="a001b-146">For more information on how to use wildcards in ASR rules, see [configure and validate exclusions based on file extension and folder location](/windows/security/threat-protection/microsoft-defender-antivirus/configure-extension-file-exclusions-microsoft-defender-antivirus).</span></span>

<span data-ttu-id="a001b-147">請注意下列有關 ASR 規則排除 (（包括萬用字元和 env）的專案。</span><span class="sxs-lookup"><span data-stu-id="a001b-147">Be aware of the following items about ASR rules exclusions (including wildcards and env.</span></span> <span data-ttu-id="a001b-148">變數) ：</span><span class="sxs-lookup"><span data-stu-id="a001b-148">variables):</span></span>

- <span data-ttu-id="a001b-149">ASR 規則排除獨立于 Defender AV 排除</span><span class="sxs-lookup"><span data-stu-id="a001b-149">ASR rules exclusions are independent from Defender AV exclusions</span></span>
- <span data-ttu-id="a001b-150">不能使用萬用字元來定義磁碟機號</span><span class="sxs-lookup"><span data-stu-id="a001b-150">Wildcards cannot be used to define a drive letter</span></span>
- <span data-ttu-id="a001b-151">如果您想要排除一個以上的資料夾，請在路徑中使用多個 \* \ 實例來表示多個嵌套資料夾 (例如，C:\Folder \* \* \Test) </span><span class="sxs-lookup"><span data-stu-id="a001b-151">If you want to exclude more than one folder, in a path, use multiple instances of \*\ to indicate multiple nested folders (for example, c:\Folder\*\*\Test)</span></span>
- <span data-ttu-id="a001b-152">Microsoft Endpoint Configuration Manager *不* 支援萬用字元 ( \* 或？ ) </span><span class="sxs-lookup"><span data-stu-id="a001b-152">Microsoft Endpoint Configuration Manager *does not* support wildcards (\* or ?)</span></span>
- <span data-ttu-id="a001b-153">如果您想要排除的檔案中包含隨機字元 (自動檔案產生) ，您可以使用 '？ ' 符號 (例如，C:\Folder\fileversion？ .docx) </span><span class="sxs-lookup"><span data-stu-id="a001b-153">If you want to exclude a file, that contains random characters (automated file generation), you can use the '?' symbol (for example, C:\Folder\fileversion?.docx)</span></span>
- <span data-ttu-id="a001b-154">群組原則中的 ASR 排除項不支援引號 (引擎會以本機方式處理長路徑、空格等，因此不需要使用引號) </span><span class="sxs-lookup"><span data-stu-id="a001b-154">ASR exclusions in Group Policy don't support quotes (the engine will natively handle long path, spaces, etc., so there's no need to use quotes)</span></span>
- <span data-ttu-id="a001b-155">ASR 規則會在 NT AUTHORITY\SYSTEM 帳戶下執行，所以環境變數會限制于電腦變數。</span><span class="sxs-lookup"><span data-stu-id="a001b-155">ASR rules run under NT AUTHORITY\SYSTEM account, so environmental variables are limited to machine variables.</span></span>

## <a name="how-do-i-know-what-i-need-to-exclude"></a><span data-ttu-id="a001b-156">如何知道我需要排除哪些專案？</span><span class="sxs-lookup"><span data-stu-id="a001b-156">How do I know what I need to exclude?</span></span>
<span data-ttu-id="a001b-157">不同的 ASR 規則會有不同的保護流程。</span><span class="sxs-lookup"><span data-stu-id="a001b-157">Different ASR rules will have different protection flows.</span></span> <span data-ttu-id="a001b-158">請務必考慮您要設定的 ASR 規則的保護方式，以及實際執行流程的平移方式。</span><span class="sxs-lookup"><span data-stu-id="a001b-158">Always think about what the ASR rule you are configuring protects against, and how the actual execution flow pans out.</span></span>

<span data-ttu-id="a001b-159">範例：封鎖從本機安全性群組子系統直接讀取 **的 Windows 本機安全性授權子系統** (LSASS) 進程可能會造成安全性風險，因為這可能會造成公司認證。</span><span class="sxs-lookup"><span data-stu-id="a001b-159">Example: **Block credential stealing from the Windows local security authority subsystem** Reading directly from Local Security Authority Subsystem (LSASS) process can be a security risk, since it might expose corporate credentials.</span></span>

<span data-ttu-id="a001b-160">此規則可防止不受信任的處理常式直接存取 LSASS 記憶體。</span><span class="sxs-lookup"><span data-stu-id="a001b-160">This rule prevents untrusted processes from having direct access to LSASS memory.</span></span> <span data-ttu-id="a001b-161">每當處理常式嘗試使用 OpenProcess () 函數存取 LSASS 時（PROCESS_VM_READ 的存取權），該規則會特別封鎖該存取許可權。</span><span class="sxs-lookup"><span data-stu-id="a001b-161">Whenever a process tries to use the OpenProcess() function to access LSASS, with an access right of PROCESS_VM_READ, the rule will  specifically block that access right.</span></span>

:::image type="content" source="images/asrfaq1.png" alt-text="封鎖認證竊取 LSASS":::

<span data-ttu-id="a001b-163">查看上述範例，如果您確實需要為封鎖存取權的處理常式建立例外狀況，新增檔案名及完整路徑會使其不會遭到封鎖，並且允許存取 LSASS 處理常式記憶體。</span><span class="sxs-lookup"><span data-stu-id="a001b-163">Looking at the above example, if you really had to create an exception for the process that the access right was blocked, adding the filename along with full path would exclude it from being blocked and after allowed to access LSASS process memory.</span></span> <span data-ttu-id="a001b-164">值為0表示 ASR 規則將忽略此檔案/進程，但不會封鎖/審計。</span><span class="sxs-lookup"><span data-stu-id="a001b-164">The value of 0 means that ASR rules will ignore this file/process and not block/audit it.</span></span>

:::image type="content" source="images/asrfaq2.png" alt-text="排除檔 asr":::

## <a name="what-are-the-rules-microsoft-recommends-enabling"></a><span data-ttu-id="a001b-166">Microsoft 建議啟用的規則為何？</span><span class="sxs-lookup"><span data-stu-id="a001b-166">What are the rules Microsoft recommends enabling?</span></span>

<span data-ttu-id="a001b-167">建議您啟用每一種可能的規則。</span><span class="sxs-lookup"><span data-stu-id="a001b-167">We recommend enabling every possible rule.</span></span> <span data-ttu-id="a001b-168">不過，在某些情況下，您不應啟用規則。</span><span class="sxs-lookup"><span data-stu-id="a001b-168">However, there are some cases where you shouldn’t enable a rule.</span></span> <span data-ttu-id="a001b-169">例如，如果您使用 Microsoft Endpoint Configuration Manager (或是，System Center Configuration Manager-SCCM) 來管理您的端點，我們不建議啟用來自 PSExec 和 WMI 命令規則的封鎖處理常式建立。</span><span class="sxs-lookup"><span data-stu-id="a001b-169">For example, we don't recommend enabling the Block process creations originating from PSExec and WMI commands rule, if you’re using Microsoft Endpoint Configuration Manager (or, System Center Configuration Manager - SCCM) to manage your endpoints.</span></span>

<span data-ttu-id="a001b-170">我們強烈建議您閱讀我們 [公開檔](/microsoft-365/security/defender-endpoint/attack-surface-reduction.md)中提供的每一個規則特定資訊和/或警告。</span><span class="sxs-lookup"><span data-stu-id="a001b-170">We highly recommend you that you read each rule-specific information and/or warnings, which are available in our [public documentation](/microsoft-365/security/defender-endpoint/attack-surface-reduction.md).</span></span>
<span data-ttu-id="a001b-171">跨越多個保護的一個支柱，如 Office、認證、腳本、E-Mail 等等。Windows 1709 和更新版本都支援所有 ASR 規則（封鎖和透過 WMI 事件訂閱除外）：</span><span class="sxs-lookup"><span data-stu-id="a001b-171">spanning across multiple pillars of protection, like Office, Credentials, Scripts, E-Mail, etc. All ASR rules, except for Block persistence through WMI event subscription, are supported on Windows 1709 and later:</span></span>

* [<span data-ttu-id="a001b-172">從電子郵件客戶程式和 web 郵件封鎖可執行檔內容</span><span class="sxs-lookup"><span data-stu-id="a001b-172">Block executable content from email client and webmail</span></span>](attack-surface-reduction.md#block-executable-content-from-email-client-and-webmail)
* [<span data-ttu-id="a001b-173">封鎖所有 Office 的應用程式建立子流程</span><span class="sxs-lookup"><span data-stu-id="a001b-173">Block all Office applications from creating child processes</span></span>](attack-surface-reduction.md#block-all-office-applications-from-creating-child-processes)
* [<span data-ttu-id="a001b-174">封鎖 Office 應用程式建立可執行檔內容</span><span class="sxs-lookup"><span data-stu-id="a001b-174">Block Office applications from creating executable content</span></span>](attack-surface-reduction.md#block-office-applications-from-creating-executable-content)
* [<span data-ttu-id="a001b-175">封鎖 Office 的應用程式將程式碼注入其他進程</span><span class="sxs-lookup"><span data-stu-id="a001b-175">Block Office applications from injecting code into other processes</span></span>](attack-surface-reduction.md#block-office-applications-from-injecting-code-into-other-processes)
* [<span data-ttu-id="a001b-176">從啟動下載的可執行內容封鎖 JavaScript 或 VBScript</span><span class="sxs-lookup"><span data-stu-id="a001b-176">Block JavaScript or VBScript from launching downloaded executable content</span></span>](attack-surface-reduction.md#block-javascript-or-vbscript-from-launching-downloaded-executable-content)
* [<span data-ttu-id="a001b-177">封鎖可能混淆的腳本執行</span><span class="sxs-lookup"><span data-stu-id="a001b-177">Block execution of potentially obfuscated scripts</span></span>](attack-surface-reduction.md#block-execution-of-potentially-obfuscated-scripts)
* [<span data-ttu-id="a001b-178">從 Office 宏封鎖 WIN32 API 呼叫</span><span class="sxs-lookup"><span data-stu-id="a001b-178">Block Win32 API calls from Office macro</span></span>](attack-surface-reduction.md#block-win32-api-calls-from-office-macros)
* [<span data-ttu-id="a001b-179">使用勒索軟體的高級防護</span><span class="sxs-lookup"><span data-stu-id="a001b-179">Use advanced protection against ransomware</span></span>](attack-surface-reduction.md#use-advanced-protection-against-ransomware)
* <span data-ttu-id="a001b-180">[封鎖 Windows 本機安全性群組子系統 (lsass.exe 中的認證竊取](attack-surface-reduction.md#block-credential-stealing-from-the-windows-local-security-authority-subsystem)) </span><span class="sxs-lookup"><span data-stu-id="a001b-180">[Block credential stealing from the Windows local security authority subsystem](attack-surface-reduction.md#block-credential-stealing-from-the-windows-local-security-authority-subsystem) (lsass.exe)</span></span>
* [<span data-ttu-id="a001b-181">封鎖來自 PSExec 和 WMI 命令的進程建立</span><span class="sxs-lookup"><span data-stu-id="a001b-181">Block process creations originating from PSExec and WMI commands</span></span>](attack-surface-reduction.md#block-process-creations-originating-from-psexec-and-wmi-commands)
* [<span data-ttu-id="a001b-182">封鎖從 USB 執行的不受信任和未簽署程式</span><span class="sxs-lookup"><span data-stu-id="a001b-182">Block untrusted and unsigned processes that run from USB</span></span>](attack-surface-reduction.md#block-untrusted-and-unsigned-processes-that-run-from-usb)
* [<span data-ttu-id="a001b-183">封鎖可執行檔，除非符合流行、age 或受信任的清單準則</span><span class="sxs-lookup"><span data-stu-id="a001b-183">Block executable files from running unless they meet a prevalence, age, or trusted list criteria</span></span>](attack-surface-reduction.md#block-executable-files-from-running-unless-they-meet-a-prevalence-age-or-trusted-list-criterion)
* [<span data-ttu-id="a001b-184">封鎖 Office 的通訊應用程式以建立子流程</span><span class="sxs-lookup"><span data-stu-id="a001b-184">Block Office communication applications from creating child processes</span></span>](attack-surface-reduction.md#block-office-communication-application-from-creating-child-processes)
* [<span data-ttu-id="a001b-185">封鎖 Adobe Reader，以建立子流程</span><span class="sxs-lookup"><span data-stu-id="a001b-185">Block Adobe Reader from creating child processes</span></span>](attack-surface-reduction.md#block-adobe-reader-from-creating-child-processes)
* [<span data-ttu-id="a001b-186">透過 WMI 事件訂閱封鎖持久性</span><span class="sxs-lookup"><span data-stu-id="a001b-186">Block persistence through WMI event subscription</span></span>](attack-surface-reduction.md#block-persistence-through-wmi-event-subscription)

## <a name="what-are-some-good-recommendations-for-getting-started-with-asr"></a><span data-ttu-id="a001b-187">「ASR」快速入門的一些好的建議是什麼？</span><span class="sxs-lookup"><span data-stu-id="a001b-187">What are some good recommendations for getting started with ASR?</span></span>

<span data-ttu-id="a001b-188">測試 ASR 規則在啟用之前如何影響您的組織，在一段短暫的時間內，以稽核模式執行 ASR 規則。</span><span class="sxs-lookup"><span data-stu-id="a001b-188">Test how ASR rules will impact your organization before enabling them by running ASR rules in audit mode for a brief period of time.</span></span> <span data-ttu-id="a001b-189">當您在稽核模式中執行規則時，您可以識別任何可能會遭到錯誤封鎖的企業營運應用程式，並將其從 ASR 中排除。</span><span class="sxs-lookup"><span data-stu-id="a001b-189">While you are running the rules in audit mode, you can identify any line-of-business applications that might get blocked erroneously, and exclude them from ASR.</span></span>

<span data-ttu-id="a001b-190">較大的組織應考慮在「環」中推出 ASR 規則，方法是在更廣泛的裝置子集內審核和啟用規則。</span><span class="sxs-lookup"><span data-stu-id="a001b-190">Larger organizations should consider rolling out ASR rules in "rings," by auditing and enabling rules in increasingly broader subsets of devices.</span></span> <span data-ttu-id="a001b-191">您可以使用 Intune 或群組原則管理工具，將組織的裝置安排在環中。</span><span class="sxs-lookup"><span data-stu-id="a001b-191">You can arrange your organization's devices into rings by using Intune or a Group Policy management tool.</span></span>

## <a name="how-long-should-i-test-an-asr-rule-in-audit-mode-before-enabling-it"></a><span data-ttu-id="a001b-192">我應該多久在稽核模式中測試 ASR 規則，再啟用它？</span><span class="sxs-lookup"><span data-stu-id="a001b-192">How long should I test an ASR rule in audit mode before enabling it?</span></span>

<span data-ttu-id="a001b-193">在稽核模式中讓規則保持大約30天，以取得規則在整個組織中起作用的良好基準。</span><span class="sxs-lookup"><span data-stu-id="a001b-193">Keep the rule in audit mode for about 30 days to get a good baseline for how the rule will operate once it goes live throughout your organization.</span></span> <span data-ttu-id="a001b-194">在審核期間內，您可以識別任何可能會被規則封鎖的企業營運應用程式，並將規則設定為排除。</span><span class="sxs-lookup"><span data-stu-id="a001b-194">During the audit period, you can identify any line-of-business applications that might get blocked by the rule, and configure the rule to exclude them.</span></span>

## <a name="im-making-the-switch-from-a-third-party-security-solution-to-defender-for-endpoint-is-there-an-easy-way-to-export-rules-from-another-security-solution-to-asr"></a><span data-ttu-id="a001b-195">我正在將協力廠商的安全性解決方案切換為端點的 Defender。</span><span class="sxs-lookup"><span data-stu-id="a001b-195">I'm making the switch from a third-party security solution to Defender for Endpoint.</span></span> <span data-ttu-id="a001b-196">是否有「輕鬆」的方法可將規則從其他安全性解決方案匯出為 ASR？</span><span class="sxs-lookup"><span data-stu-id="a001b-196">Is there an "easy" way to export rules from another security solution to ASR?</span></span>

<span data-ttu-id="a001b-197">在大多數情況下，從使用 [Defender For Endpoint](/windows/security/threat-protection) 建議的基準建議開始，比嘗試從其他安全性解決方案匯入規則更為簡單且更好。</span><span class="sxs-lookup"><span data-stu-id="a001b-197">In most cases, it's easier and better to start with the baseline recommendations suggested by [Defender for Endpoint](/windows/security/threat-protection) than to attempt to import rules from another security solution.</span></span> <span data-ttu-id="a001b-198">然後，使用審計模式、監控和分析等工具，設定新的解決方案，以符合您的獨特需求。</span><span class="sxs-lookup"><span data-stu-id="a001b-198">Then, use tools such as audit mode, monitoring, and analytics to configure your new solution to suit your unique needs.</span></span> 

<span data-ttu-id="a001b-199">大部分 ASR 規則的預設設定（結合使用「Endpoint」端點的即時保護）都會針對大量的入侵和弱點進行保護。</span><span class="sxs-lookup"><span data-stu-id="a001b-199">The default configuration for most ASR rules, combined with Defender for Endpoint's real-time protection, will protect against a large number of exploits and vulnerabilities.</span></span>

<span data-ttu-id="a001b-200">您可以在 Defender for Endpoint 中使用自訂指示器更新您的防禦，以允許和封鎖某些軟體行為。</span><span class="sxs-lookup"><span data-stu-id="a001b-200">From within Defender for Endpoint, you can update your defenses with custom indicators, to allow and block certain software behaviors.</span></span> <span data-ttu-id="a001b-201">ASR 也允許某些規則的自訂，其格式為檔案和資料夾排除。</span><span class="sxs-lookup"><span data-stu-id="a001b-201">ASR also allows for some customization of rules, in the form of file and folder exclusions.</span></span> <span data-ttu-id="a001b-202">一般來說，最好是在一段時間內審核規則，並為任何可能會遭到封鎖的企業營運應用程式設定排除。</span><span class="sxs-lookup"><span data-stu-id="a001b-202">As a general rule, it is best to audit a rule for a period of time, and configure exclusions for any line-of-business applications that might get blocked.</span></span>

## <a name="does-asr-support-file-or-folder-exclusions-that-include-system-variables-and-wildcards-in-the-path"></a><span data-ttu-id="a001b-203">ASR 是否支援在路徑中包含系統變數和萬用字元的檔案或資料夾排除專案？</span><span class="sxs-lookup"><span data-stu-id="a001b-203">Does ASR support file or folder exclusions that include system variables and wildcards in the path?</span></span>

<span data-ttu-id="a001b-204">是。</span><span class="sxs-lookup"><span data-stu-id="a001b-204">Yes.</span></span> <span data-ttu-id="a001b-205">如需從 ASR 規則中排除檔案或資料夾的詳細資訊，請參閱 [從 asr 規則排除檔案和資料夾](enable-attack-surface-reduction.md#exclude-files-and-folders-from-asr-rules) ，並根據 [副檔名和資料夾位置來設定及驗證排除](/windows/security/threat-protection/microsoft-defender-antivirus/configure-extension-file-exclusions-microsoft-defender-antivirus#use-wildcards-in-the-file-name-and-folder-path-or-extension-exclusion-lists) ，以瞭解如何在排除的檔案路徑中使用系統變數和萬用字元。</span><span class="sxs-lookup"><span data-stu-id="a001b-205">See [Excluding files and folders from ASR rules](enable-attack-surface-reduction.md#exclude-files-and-folders-from-asr-rules) for more details on excluding files or folders from ASR rules, and [Configure and validate exclusions based on file extension and folder location](/windows/security/threat-protection/microsoft-defender-antivirus/configure-extension-file-exclusions-microsoft-defender-antivirus#use-wildcards-in-the-file-name-and-folder-path-or-extension-exclusion-lists) for more on using system variables and wildcards in excluded file paths.</span></span>

## <a name="do-asr-rules-cover-all-applications-by-default"></a><span data-ttu-id="a001b-206">是否依預設，ASR 規則涵蓋所有應用程式？</span><span class="sxs-lookup"><span data-stu-id="a001b-206">Do ASR rules cover all applications by default?</span></span>

<span data-ttu-id="a001b-207">這取決於規則。</span><span class="sxs-lookup"><span data-stu-id="a001b-207">It depends on the rule.</span></span> <span data-ttu-id="a001b-208">大部分的 ASR 規則都涵蓋 Microsoft Office 產品和服務的行為，例如 Word、Excel、PowerPoint 和 OneNote，或 Outlook。</span><span class="sxs-lookup"><span data-stu-id="a001b-208">Most ASR rules cover the behavior of Microsoft Office products and services, such as Word, Excel, PowerPoint, and OneNote, or Outlook.</span></span> <span data-ttu-id="a001b-209">範圍中的某些 ASR 規則（如 *區塊執行可能模糊腳本*）較為常見。</span><span class="sxs-lookup"><span data-stu-id="a001b-209">Certain ASR rules, such as *Block execution of potentially obfuscated scripts*, are more general in scope.</span></span>

## <a name="does-asr-support-third-party-security-solutions"></a><span data-ttu-id="a001b-210">ASR 是否支援協力廠商的安全性解決方案？</span><span class="sxs-lookup"><span data-stu-id="a001b-210">Does ASR support third-party security solutions?</span></span>

<span data-ttu-id="a001b-211">ASR 使用 Microsoft Defender 防毒軟體來封鎖應用程式。</span><span class="sxs-lookup"><span data-stu-id="a001b-211">ASR uses Microsoft Defender Antivirus to block applications.</span></span> <span data-ttu-id="a001b-212">目前無法將 ASR 設定為使用另一個安全性解決方案來封鎖。</span><span class="sxs-lookup"><span data-stu-id="a001b-212">It is not possible to configure ASR to use another security solution for blocking at this time.</span></span>

## <a name="i-have-an-e5-license-and-enabled-some-asr-rules-in-conjunction-with-defender-for-endpoint-is-it-possible-for-an-asr-event-to-not-show-up-at-all-in-defender-for-endpoints-event-timeline"></a><span data-ttu-id="a001b-213">我有 E5 授權，並已將部分 ASR 規則與 Defender for Endpoint 一起啟用。</span><span class="sxs-lookup"><span data-stu-id="a001b-213">I have an E5 license and enabled some ASR rules in conjunction with Defender for Endpoint.</span></span> <span data-ttu-id="a001b-214">在端點的事件時程表中，ASR 事件是否可顯示在所有的更新中？</span><span class="sxs-lookup"><span data-stu-id="a001b-214">Is it possible for an ASR event to not show up at all in Defender for Endpoint's event timeline?</span></span>

<span data-ttu-id="a001b-215">每當 ASR 規則以本機方式觸發通知時，事件的報告也會傳送至端點入口網站的 Defender。</span><span class="sxs-lookup"><span data-stu-id="a001b-215">Whenever a notification is triggered locally by an ASR rule, a report on the event is also sent to the Defender for Endpoint portal.</span></span> <span data-ttu-id="a001b-216">如果您找不到該事件，您可以使用 [搜尋] 方塊來篩選事件時程表。</span><span class="sxs-lookup"><span data-stu-id="a001b-216">If you're having trouble finding the event, you can filter the events timeline using the search box.</span></span> <span data-ttu-id="a001b-217">您也可以從 [安全性中心] 工作列中的 [設定 **管理**]**圖示，查看** ASR 事件。</span><span class="sxs-lookup"><span data-stu-id="a001b-217">You can also view ASR events by visiting **Go to attack surface management**, from the **Configuration management** icon in the Security Center taskbar.</span></span> <span data-ttu-id="a001b-218">「攻擊面管理」頁面包含報告偵測的索引標籤，其中包括報告給 Defender for Endpoint 之 ASR 規則事件的完整清單。</span><span class="sxs-lookup"><span data-stu-id="a001b-218">The attack surface management page includes a tab for report detections, which includes a full list of ASR rule events reported to Defender for Endpoint.</span></span>

## <a name="i-applied-a-rule-using-gpo-now-when-i-try-to-check-the-indexing-options-for-the-rule-in-microsoft-outlook-i-get-a-message-stating-access-denied"></a><span data-ttu-id="a001b-219">我使用 GPO 套用規則。</span><span class="sxs-lookup"><span data-stu-id="a001b-219">I applied a rule using GPO.</span></span> <span data-ttu-id="a001b-220">現在當我嘗試檢查 Microsoft Outlook 中的規則的索引選項時，收到一則訊息，說明「拒絕存取」。</span><span class="sxs-lookup"><span data-stu-id="a001b-220">Now when I try to check the indexing options for the rule in Microsoft Outlook, I get a message stating, 'Access denied'.</span></span>

<span data-ttu-id="a001b-221">請嘗試直接從 Windows 10 開啟索引選項。</span><span class="sxs-lookup"><span data-stu-id="a001b-221">Try opening the indexing options directly from Windows 10.</span></span>

1. <span data-ttu-id="a001b-222">在 [Windows] 工作列上選取 **搜尋** 圖示。</span><span class="sxs-lookup"><span data-stu-id="a001b-222">Select the **Search** icon on the Windows taskbar.</span></span>

1. <span data-ttu-id="a001b-223">在搜尋方塊中輸入 **索引選項** 。</span><span class="sxs-lookup"><span data-stu-id="a001b-223">Enter **Indexing options** into the search box.</span></span>

## <a name="are-the-criteria-used-by-the-rule-block-executable-files-from-running-unless-they-meet-a-prevalence-age-or-trusted-list-criterion-configurable-by-an-admin"></a><span data-ttu-id="a001b-224">規則使用的準則是「封鎖可執行檔的執行，除非它們符合傳播、時期或受信任的清單準則」（由系統管理員加以設定）。</span><span class="sxs-lookup"><span data-stu-id="a001b-224">Are the criteria used by the rule, "Block executable files from running unless they meet a prevalence, age, or trusted list criterion," configurable by an admin?</span></span>

<span data-ttu-id="a001b-225">否。</span><span class="sxs-lookup"><span data-stu-id="a001b-225">No.</span></span> <span data-ttu-id="a001b-226">此規則所用的準則是由 Microsoft cloud protection 所維護，可讓信任的清單持續更新世界各地收集的資料。</span><span class="sxs-lookup"><span data-stu-id="a001b-226">The criteria used by this rule are maintained by Microsoft cloud protection, to keep the trusted list constantly up to date with data gathered from around the world.</span></span> <span data-ttu-id="a001b-227">本機系統管理員沒有變更此資料的寫入權限。</span><span class="sxs-lookup"><span data-stu-id="a001b-227">Local admins do not have write access to alter this data.</span></span> <span data-ttu-id="a001b-228">如果您想要設定此規則以針對您的企業進行量身定制，您可以將特定的應用程式新增至排除清單，以避免觸發規則。</span><span class="sxs-lookup"><span data-stu-id="a001b-228">If you are looking to configure this rule to tailor it for your enterprise, you can add certain applications to the exclusions list to prevent the rule from being triggered.</span></span>

## <a name="i-enabled-the-asr-rule-block-executable-files-from-running-unless-they-meet-a-prevalence-age-or-trusted-list-criterion-after-some-time-i-updated-a-piece-of-software-and-the-rule-is-now-blocking-it-even-though-it-didnt-before-did-something-go-wrong"></a><span data-ttu-id="a001b-229">我已啟用 ASR 規則， *封鎖可執行檔，除非符合流行、age 或受信任的清單準則*。</span><span class="sxs-lookup"><span data-stu-id="a001b-229">I enabled the ASR rule, *Block executable files from running unless they meet a prevalence, age, or trusted list criterion*.</span></span> <span data-ttu-id="a001b-230">經過一段時間後，我就會更新某項軟體，而且規則現在會封鎖它，即使之前並未這樣。</span><span class="sxs-lookup"><span data-stu-id="a001b-230">After some time, I updated a piece of software, and the rule is now blocking it, even though it didn't before.</span></span> <span data-ttu-id="a001b-231">發生問題？</span><span class="sxs-lookup"><span data-stu-id="a001b-231">Did something go wrong?</span></span>

<span data-ttu-id="a001b-232">此規則取決於每個具有已知信譽的應用程式，例如流行、age 或包含在信任的應用程式清單中。</span><span class="sxs-lookup"><span data-stu-id="a001b-232">This rule relies upon each application having a known reputation, as measured by prevalence, age, or inclusion on a list of trusted apps.</span></span> <span data-ttu-id="a001b-233">此規則決定封鎖或允許應用程式，最終是由 Microsoft cloud protection 評估這些準則所決定。</span><span class="sxs-lookup"><span data-stu-id="a001b-233">The rule's decision to block or allow an application is ultimately determined by Microsoft cloud protection's assessment of these criteria.</span></span>

<span data-ttu-id="a001b-234">通常，cloud protection 可以判斷應用程式的新版本與舊版 reassessed 的應用程式，不需要有足夠的長度。</span><span class="sxs-lookup"><span data-stu-id="a001b-234">Usually, cloud protection can determine that a new version of an application is similar enough to previous versions that it does not need to be reassessed at length.</span></span> <span data-ttu-id="a001b-235">不過，此應用程式可能需要一些時間，才能在切換版本之後建立信譽，尤其是在主要更新之後。</span><span class="sxs-lookup"><span data-stu-id="a001b-235">However, it might take some time for the app to build reputation after switching versions, particularly after a major update.</span></span> <span data-ttu-id="a001b-236">在此期間，您可以將應用程式新增至排除清單，以防止此規則封鎖重要的應用程式。</span><span class="sxs-lookup"><span data-stu-id="a001b-236">In the meantime, you can add the application to the exclusions list, to prevent this rule from blocking important applications.</span></span> <span data-ttu-id="a001b-237">如果您經常更新及使用新版本的應用程式，您可以選擇改為在稽核模式中執行這項規則。</span><span class="sxs-lookup"><span data-stu-id="a001b-237">If you are frequently updating and working with new versions of applications, you may opt instead to run this rule in audit mode.</span></span>

## <a name="i-recently-enabled-the-asr-rule-block-credential-stealing-from-the-windows-local-security-authority-subsystem-lsassexe-and-i-am-getting-a-large-number-of-notifications-what-is-going-on"></a><span data-ttu-id="a001b-238">我最近啟用了 ASR 規則，*封鎖從 Windows 本機安全授權子系統 (lsass.exe) 中偷竊的認證*，而且我收到大量通知。</span><span class="sxs-lookup"><span data-stu-id="a001b-238">I recently enabled the ASR rule, *Block credential stealing from the Windows local security authority subsystem (lsass.exe)*, and I am getting a large number of notifications.</span></span> <span data-ttu-id="a001b-239">這是怎麼回事？</span><span class="sxs-lookup"><span data-stu-id="a001b-239">What is going on?</span></span>

<span data-ttu-id="a001b-240">此規則產生的通知不一定表示惡意活動;不過，此規則對於封鎖惡意活動仍然有用，因為惡意程式碼通常會以 lsass.exe 來取得帳戶的非法存取權。</span><span class="sxs-lookup"><span data-stu-id="a001b-240">A notification generated by this rule does not necessarily indicate malicious activity; however, this rule is still useful for blocking malicious activity, since malware often targets lsass.exe to gain illicit access to accounts.</span></span> <span data-ttu-id="a001b-241">lsass.exe 處理常式會在使用者登入後，將使用者認證儲存在記憶體中。</span><span class="sxs-lookup"><span data-stu-id="a001b-241">The lsass.exe process stores user credentials in memory after a user has logged in.</span></span> <span data-ttu-id="a001b-242">Windows 會使用這些認證來驗證使用者，並套用本機安全性原則。</span><span class="sxs-lookup"><span data-stu-id="a001b-242">Windows uses these credentials to validate users and apply local security policies.</span></span>

<span data-ttu-id="a001b-243">由於在一般的一天內，許多合法的處理常式會呼叫憑證的 lsass.exe，因此此規則特別可能會有噪音。</span><span class="sxs-lookup"><span data-stu-id="a001b-243">Because many legitimate processes throughout a typical day will be calling on lsass.exe for credentials, this rule can be especially noisy.</span></span> <span data-ttu-id="a001b-244">如果已知合法的應用程式導致此規則產生過量的通知數目，您可以將它新增至排除清單。</span><span class="sxs-lookup"><span data-stu-id="a001b-244">If a known legitimate application causes this rule to generate an excessive number of notifications, you can add it to the exclusion list.</span></span> <span data-ttu-id="a001b-245">因為呼叫 lsass.exe 一般是許多應用程式正常運作，所以大多數其他的 ASR 規則會產生相對較少的通知數目（與此不同）。</span><span class="sxs-lookup"><span data-stu-id="a001b-245">Most other ASR rules will generate a relatively smaller number of notifications, in comparison to this one, since calling on lsass.exe is typical of many applications' normal functioning.</span></span>

## <a name="is-it-a-good-idea-to-enable-the-rule-block-credential-stealing-from-the-windows-local-security-authority-subsystem-lsassexe-alongside-lsa-protection"></a><span data-ttu-id="a001b-246">建議您是否要啟用此規則、*封鎖從 Windows local security 機關子系統 (lsass.exe) 中竊取的認證*，以及 LSA 防護？</span><span class="sxs-lookup"><span data-stu-id="a001b-246">Is it a good idea to enable the rule, *Block credential stealing from the Windows local security authority subsystem (lsass.exe)*, alongside LSA protection?</span></span>

<span data-ttu-id="a001b-247">若您也啟用了 [LSA 保護](/windows-server/security/credentials-protection-and-management/configuring-additional-lsa-protection#BKMK_HowToConfigure) ，啟用此規則將不會提供額外的保護。</span><span class="sxs-lookup"><span data-stu-id="a001b-247">Enabling this rule will not provide additional protection if you have [LSA protection](/windows-server/security/credentials-protection-and-management/configuring-additional-lsa-protection#BKMK_HowToConfigure) enabled as well.</span></span> <span data-ttu-id="a001b-248">規則和 LSA 保護的運作方式都很多，所以同時執行這兩個動作都是多餘的。</span><span class="sxs-lookup"><span data-stu-id="a001b-248">Both the rule and LSA protection work in much the same way, so having both running at the same time would be redundant.</span></span> <span data-ttu-id="a001b-249">不過，有時候您可能無法啟用 LSA 保護。</span><span class="sxs-lookup"><span data-stu-id="a001b-249">However, sometimes you may not be able to enable LSA protection.</span></span> <span data-ttu-id="a001b-250">在這種情況下，您可以啟用此規則，針對針對 lsass.exe 的惡意程式碼提供同等防護。</span><span class="sxs-lookup"><span data-stu-id="a001b-250">In those cases, you can enable this rule to provide equivalent protection against malware that target lsass.exe.</span></span>

## <a name="see-also"></a><span data-ttu-id="a001b-251">另請參閱</span><span class="sxs-lookup"><span data-stu-id="a001b-251">See also</span></span>

* [<span data-ttu-id="a001b-252">攻擊面減少綜述</span><span class="sxs-lookup"><span data-stu-id="a001b-252">Attack surface reduction overview</span></span>](attack-surface-reduction.md)
* [<span data-ttu-id="a001b-253">評估受攻擊面縮小規則</span><span class="sxs-lookup"><span data-stu-id="a001b-253">Evaluate attack surface reduction rules</span></span>](evaluate-attack-surface-reduction.md)
* [<span data-ttu-id="a001b-254">自訂受攻擊面縮小規則</span><span class="sxs-lookup"><span data-stu-id="a001b-254">Customize attack surface reduction rules</span></span>](customize-attack-surface-reduction.md)
* [<span data-ttu-id="a001b-255">啟用受攻擊面縮小規則</span><span class="sxs-lookup"><span data-stu-id="a001b-255">Enable attack surface reduction rules</span></span>](enable-attack-surface-reduction.md)
* [<span data-ttu-id="a001b-256">Microsoft Defender 與其他防病毒/反惡意程式碼的相容性</span><span class="sxs-lookup"><span data-stu-id="a001b-256">Compatibility of Microsoft Defender with other antivirus/antimalware</span></span>](/windows/security/threat-protection/microsoft-defender-antivirus/microsoft-defender-antivirus-compatibility)


